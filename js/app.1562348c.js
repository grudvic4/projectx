(function(){"use strict";var t={6363:function(t,a,e){var o=e(2856),r=function(){var t=this,a=t._self._c;return a("div",{staticClass:"wrapper",attrs:{id:"app"}},[a("MainNavbar"),a("div",{staticClass:"content"},[a("router-view")],1),a("MainFooter")],1)},n=[],i=function(){var t=this,a=t._self._c;return a("b-navbar",{staticClass:"px-5",attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[a("b-navbar-brand",{attrs:{href:"#"}},[t._v("BSG +")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",[a("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),a("b-nav-item",[a("router-link",{attrs:{to:"/new-client"}},[t._v("Novi klijent")])],1),a("b-nav-item",[a("router-link",{attrs:{to:"/clients"}},[t._v("Klijenti")])],1)],1)],1)],1)},s=[],l={name:"NavBar"},c=l,u=e(1656),b=(0,u.A)(c,i,s,!1,null,null,null),d=b.exports,m=function(){var t=this,a=t._self._c;return a("div",{staticClass:"wrapper"},[a("b-footer",{staticClass:"text-center bg-light py-3"},[a("p",{staticClass:"mb-0"},[t._v("© "+t._s(t.currentYear)+" BSG. All rights reserved.")])])],1)},v=[],p={data(){return{currentYear:(new Date).getFullYear()}}},f=p,k=(0,u.A)(f,m,v,!1,null,"689545d0",null),h=k.exports,j={components:{MainNavbar:d,MainFooter:h}},z=j,_=(0,u.A)(z,r,n,!1,null,null,null),y=_.exports,g=e(1594),x=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"container py-5"},[a("home-component")],1)},C=[],P=e(8669),S=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",[a("b-row",{staticClass:"mb-5"},[a("b-col",{staticClass:"text-center"},[a("h3",[t._v("Dobrodošli [UserName]")]),a("div",[a("b-button",{staticClass:"mb-3",attrs:{variant:"danger"},on:{click:t.clearClients}},[t._v("Clear Clients")])],1)])],1),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{staticClass:"mb-5",attrs:{cols:"12",lg:"3",order:"2","order-lg":"1"}},[a("b-card",{attrs:{"border-variant":"primary"}},[a("div",{staticClass:"text-center mb-3"},[a("i",{staticClass:"bi bi-box-seam-fill text-primary",staticStyle:{"font-size":"3rem"}})]),a("b-card-title",[t._v("Dobavljaci")]),a("b-card-text",[t._v(" Pregled i obrada dobavljaca ")]),a("div",{staticClass:"mb-3"},[a("router-link",{attrs:{to:"/dodaj-dobavljaca"}},[a("b-button",{attrs:{variant:"primary"}},[t._v("Dodaj novog dobavljaca")])],1)],1),a("div",[a("router-link",{attrs:{to:"/dobavljaci"}},[a("b-button",{attrs:{variant:"outline-primary"}},[t._v("Lista dobavljaca")])],1)],1)],1)],1),a("b-col",{staticClass:"mb-5",attrs:{cols:"12",lg:"3",order:"1","order-lg":"2"}},[a("b-card",{attrs:{"border-variant":"success"}},[a("div",{staticClass:"text-center mb-3"},[a("i",{staticClass:"bi bi-person-vcard text-success",staticStyle:{"font-size":"3rem"}})]),a("b-card-title",[t._v("Klijenti")]),a("b-card-text",[t._v(" Pregled i obrada klijenata ")]),a("div",{staticClass:"mb-3"},[a("router-link",{attrs:{to:"/new-client"}},[a("b-button",{attrs:{variant:"success"}},[t._v("Dodaj novog klijenta")])],1)],1),a("div",[a("router-link",{attrs:{to:"/clients"}},[a("b-button",{attrs:{variant:"outline-success"}},[t._v("Lista klijenta")])],1)],1)],1)],1),a("b-col",{attrs:{cols:"12",lg:"3",order:"3"}},[a("b-card",{attrs:{"border-variant":"danger"}},[a("div",{staticClass:"text-center mb-3"},[a("i",{staticClass:"bi bi-basket2 text-danger",staticStyle:{"font-size":"3rem"}})]),a("b-card-title",[t._v("Kupci")]),a("b-card-text",[t._v(" Pregled i obrada kupaca ")]),a("div",{staticClass:"mb-3"},[a("router-link",{attrs:{to:"/dodaj-kupca"}},[a("b-button",{attrs:{variant:"danger"}},[t._v("Dodaj novog kupca")])],1)],1),a("div",[a("router-link",{attrs:{to:"/kupci"}},[a("b-button",{attrs:{variant:"outline-danger"}},[t._v("Lista kupaca")])],1)],1)],1)],1)],1)],1)},D=[],K=e(6515),O=function(t,a,e,o){var r,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,e,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(n<3?r(i):n>3?r(a,e,i):r(a,e))||i);return n>3&&i&&Object.defineProperty(a,e,i),i};let R=class extends P.lD{clearClients(){localStorage.removeItem("clients"),alert("Clients data has been cleared from localStorage!")}};R=O([(0,P.uA)({components:{BButton:K.P}})],R);var $=R,w=$,U=(0,u.A)(w,S,D,!1,null,"7b294a11",null),V=U.exports,A=function(t,a,e,o){var r,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,e,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(n<3?r(i):n>3?r(a,e,i):r(a,e))||i);return n>3&&i&&Object.defineProperty(a,e,i),i};let I=class extends P.lD{};I=A([(0,P.uA)({components:{HomeComponent:V}})],I);var B=I,N=B,q=(0,u.A)(N,x,C,!1,null,null,null),F=q.exports,T=(e(4114),function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"container py-5"},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-breadcrumb",[a("b-breadcrumb-item",{attrs:{to:"/"}},[t._v("Home")]),a("b-breadcrumb-item",{attrs:{active:""}},[t._v("Dodaj novog klijenta")])],1)],1)],1),a("b-row",[a("b-col",[a("novi-klijent",{staticClass:"mb-5"})],1)],1),a("b-row",[a("b-col",{staticClass:"text-center"},[a("b-button",{attrs:{variant:"outline-primary",size:"xl"},on:{click:function(a){return t.$router.push("/clients")}}},[t._v(" Pogledaj sve klijente ")])],1)],1)],1)}),J=[],M=function(){var t=this,a=t._self._c;return a("div",[a("b-row",{staticClass:"text-center"},[a("b-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"mb-4"},[t._v("Dodaj novog klijenta")])])],1),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{cols:"12",lg:"8"}},[a("b-form",{on:{submit:function(a){return a.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("h4",[t._v("Podaci o vlasniku")])])],1),a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Ime i prezime","label-for":"vlasnik-ime-prezime"}},[a("b-form-input",{attrs:{id:"vlasnik-ime-prezime",required:"",state:!t.hasSubmitted||t.form.vlasnikImePrezime.length>0,placeholder:"Upisite ime i prezime vlasnika"},model:{value:t.form.vlasnikImePrezime,callback:function(a){t.$set(t.form,"vlasnikImePrezime",a)},expression:"form.vlasnikImePrezime"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Adresa vlasnika","label-for":"vlasnik-adresa"}},[a("b-form-input",{attrs:{id:"vlasnik-adresa",state:!t.hasSubmitted||t.form.vlasnikAdresa.length>0,placeholder:"Upisite adresu klijenta"},model:{value:t.form.vlasnikAdresa,callback:function(a){t.$set(t.form,"vlasnikAdresa",a)},expression:"form.vlasnikAdresa"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"JMBG","label-for":"vlasnik-jmbg"}},[a("b-form-input",{attrs:{id:"vlasnik-jmbg",type:"text",maxlength:"13",placeholder:"Upisite JMBG vlasnika",state:!t.hasSubmitted||t.JMBGValid||t.jmbgTouched,required:""},on:{input:function(a){t.hasSubmitted=!1}},model:{value:t.form.vlasnikJMBG,callback:function(a){t.$set(t.form,"vlasnikJMBG",a)},expression:"form.vlasnikJMBG"}}),t.hasSubmitted&&!t.JMBGValid?a("b-form-invalid-feedback",[t._v(" Unesite ispravan 13-cifreni JMBG broj. ")]):t._e()],1)],1)],1),a("b-row",{staticClass:"my-3 border-top"}),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("h4",[t._v("Podaci o privrednom subjektu")])])],1),a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Oblik","label-for":"client-type"}},[a("b-form-select",{attrs:{id:"client-type",options:t.clientTypeOptions,required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.type,callback:function(a){t.$set(t.form,"type",a)},expression:"form.type"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Naziv","label-for":"client-name"}},[a("b-form-input",{attrs:{id:"client-name",required:"",state:!t.hasSubmitted||t.form.name.length>0,placeholder:"Upisite naziv klijenta"},model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Adresa","label-for":"client-address"}},[a("b-form-input",{attrs:{id:"client-address",state:!t.hasSubmitted||t.form.address.length>0,placeholder:"Upisite adresu klijenta"},model:{value:t.form.address,callback:function(a){t.$set(t.form,"address",a)},expression:"form.address"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Grad","label-for":"client-grad"}},[a("b-form-input",{attrs:{id:"client-grad",state:!t.hasSubmitted||t.form.grad.length>0,placeholder:"Upisite grad klijenta"},model:{value:t.form.grad,callback:function(a){t.$set(t.form,"grad",a)},expression:"form.grad"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"PDV","label-for":"client-pdv",description:"Unesite ispravan 12-cifreni PDV broj"}},[a("b-form-input",{attrs:{id:"client-pdv",type:"text",maxlength:"12",placeholder:"Upisite PDV klijenta",state:!t.hasSubmitted||t.pdvValid||t.pdvTouched},on:{input:function(a){t.hasSubmitted=!1},blur:t.validatePDV},model:{value:t.form.pdv,callback:function(a){t.$set(t.form,"pdv",a)},expression:"form.pdv"}}),t.hasSubmitted&&!t.pdvValid?a("b-form-invalid-feedback",[t._v(" Unesite ispravan 12-cifreni PDV broj. ")]):t._e()],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"JIB","label-for":"client-jib",description:"Unesite ispravan 13-cifreni JIB broj"}},[a("b-form-input",{attrs:{id:"client-jib",type:"text",maxlength:"13",placeholder:"Upisite JIB klijenta",state:!t.hasSubmitted||t.jibValid||t.jibTouched,required:""},on:{input:function(a){t.hasSubmitted=!1},blur:t.validateJIB},model:{value:t.form.jib,callback:function(a){t.$set(t.form,"jib",a)},expression:"form.jib"}}),t.hasSubmitted&&!t.jibValid?a("b-form-invalid-feedback",[t._v(" Unesite ispravan 13-cifreni JIB broj. ")]):t._e()],1)],1),a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{staticClass:"mb-2"},[a("b-form-checkbox",{attrs:{id:"client-pdvObveznik"},model:{value:t.form.pdvObveznik,callback:function(a){t.$set(t.form,"pdvObveznik",a)},expression:"form.pdvObveznik"}},[t._v(" PDV Obveznik ")])],1)],1),a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Entitet","label-for":"client-entitet"}},[a("b-form-select",{attrs:{id:"client-entitet",options:t.entitetOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.entitet,callback:function(a){t.$set(t.form,"entitet",a)},expression:"form.entitet"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)],1)],1)],1),a("b-modal",{attrs:{id:"success-modal",centered:"",title:"Klijent uspješno dodan","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function({close:e}){return[a("h5",{staticClass:"modal-title"},[t._v("Klijent uspješno dodan")]),a("b-button",{staticClass:"close",attrs:{"aria-label":"Close"},on:{click:e}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]}}])},[a("p",{staticClass:"my-4"},[t._v("Uspješno ste dodali klijenta")]),a("b-button",{attrs:{variant:"primary"},on:{click:function(a){return t.$bvModal.hide("success-modal")}}},[t._v("Dodaj novog klijenta")]),a("b-button",{staticClass:"mx-3",attrs:{variant:"outline-primary"},on:{click:function(a){return t.$router.push("/clients")}}},[t._v("Pogledaj postojece klijente")])],1)],1)},E=[],G=(e(4979),e(6416));const Z=(0,G.nY)("client",{state:()=>({clients:JSON.parse(localStorage.getItem("clients")||"[]")}),actions:{addClient(t){this.clients.push(t),this.saveClients()},saveClients(){localStorage.setItem("clients",JSON.stringify(this.clients))}}});var L={data(){return{hasSubmitted:!1,pdvTouched:!1,jibTouched:!1,jmbgTouched:!1,form:{vlasnikImePrezime:"",vlasnikAdresa:"",vlasnikJMBG:"",type:null,address:"",name:"",grad:"",pdv:"",jib:"",dobavljac:!1,kupac:!1,pdvObveznik:!1,entitet:null},clientTypeOptions:[{value:null,text:"Izaberite oblik klijenta"},{value:"doo",text:"d.o.o."},{value:"dd",text:"d.d."},{value:"od",text:"O.D."}],entitetOptions:[{value:null,text:"Izaberite entitet"},{value:"fbih",text:"Federacija"},{value:"rs",text:"Republika Srpska"},{value:"bd",text:"Brčko Distrikt"}]}},computed:{pdvValid(){const t=/^\d{12}$/;return 12===this.form.pdv.length&&t.test(this.form.pdv)},jibValid(){const t=/^\d{13}$/;return t.test(this.form.jib)},JMBGValid(){const t=/^\d{13}$/;return t.test(this.form.vlasnikJMBG)}},methods:{onSubmit(){if(this.hasSubmitted=!0,!this.pdvValid)return void alert("Unesite ispravan 12-cifreni PDV broj.");if(!this.jibValid)return void alert("Unesite ispravan 13-cifreni JIB broj.");if(!this.JMBGValid)return void alert("Unesite ispravan 13-cifreni JMBG broj.");const t=btoa(this.form.jib),a=Z();a.addClient({vlasnikImePrezime:this.form.vlasnikImePrezime,vlasnikAdresa:this.form.vlasnikAdresa,vlasnikJMBG:this.form.vlasnikJMBG,type:this.form.type,name:this.form.name,address:this.form.address,grad:this.form.grad,pdv:this.form.pdv,jib:this.form.jib,pdvObveznik:this.form.pdvObveznik,entitet:this.form.entitet,clientKey:t}),this.$bvModal.show("success-modal"),this.resetForm()},resetForm(){this.form={vlasnikImePrezime:"",vlasnikAdresa:"",vlasnikJMBG:"",type:null,name:"",address:"",grad:"",pdv:"",jib:"",pdvObveznik:!1,entitet:null},this.hasSubmitted=!1},validatePDV(){this.pdvTouched=!0,this.hasSubmitted=!0},validateJIB(){this.jibTouched=!0,this.hasSubmitted=!0},validateJMBG(){this.jmbgTouched=!0,this.hasSubmitted=!0}}},H=L,Y=(0,u.A)(H,M,E,!1,null,null,null),X=Y.exports,Q=function(){var t=this,a=t._self._c;return a("b-container",[a("h2",{staticClass:"mb-5"},[t._v("Lista klijenata")]),t._l(t.clients,(function(e,o){return a("b-card",{key:e.pdv,staticClass:"mb-3",on:{click:function(a){return t.toggleCollapse(o)}},scopedSlots:t._u([{key:"header",fn:function(){return[a("span",[t._v(" "+t._s(`${o+1} | ${e.name}`)+" - "+t._s(e.pdv)+" ")]),a("b-button",{staticClass:"mx-3",attrs:{variant:"outline-primary",size:"sm"},on:{click:function(a){return t.$router.push({name:"dodaj-ulazni-racun",params:{clientKey:e.clientKey}})}}},[t._v(" Dodaj ulazni racun ")]),a("b-button",{staticClass:"mx-3",attrs:{variant:"outline-success",size:"sm"},on:{click:function(a){return t.$router.push({name:"dodaj-izlazni-racun",params:{clientKey:e.clientKey}})}}},[t._v(" Dodaj izlazni racun ")]),a("b-button",{staticClass:"mx-3",attrs:{variant:"success",size:"sm"},on:{click:function(a){return t.$router.push({name:"account",params:{clientKey:e.clientKey}})}}},[t._v(" Detaljno ")])]},proxy:!0}],null,!0)},[a("b-collapse",{attrs:{id:"collapse-"+o},model:{value:t.collapse[o],callback:function(a){t.$set(t.collapse,o,a)},expression:"collapse[index]"}},[a("b-card-text",[t._v(" Oblik: "+t._s(e.type)+" "),a("br"),t._v(" Adresa: "+t._s(e.address)+" "),a("br"),t._v(" Grad: "+t._s(e.grad)+" "),a("br"),t._v(" PDV: "+t._s(e.pdv)+" "),a("br"),t._v(" JIB: "+t._s(e.jib)+" "),a("br"),e.dobavljac?a("span",[t._v("Dobavljač "),a("br")]):t._e(),e.kupac?a("span",[t._v("Kupac "),a("br")]):t._e(),e.pdvObveznik?a("span",[t._v("PDV obveznik "),a("br")]):t._e(),t._v(" Entitet: "+t._s(e.entitet)+" ")])],1)],1)}))],2)},W=[],tt={data(){return{collapse:[]}},computed:{clients(){const t=Z();return[...t.clients]}},methods:{toggleCollapse(t){this.$set(this.collapse,t,!this.collapse[t])}}},at=tt,et=(0,u.A)(at,Q,W,!1,null,"005085ee",null),ot=et.exports,rt=function(t,a,e,o){var r,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,e,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(n<3?r(i):n>3?r(a,e,i):r(a,e))||i);return n>3&&i&&Object.defineProperty(a,e,i),i};let nt=class extends P.lD{};nt=rt([(0,P.uA)({components:{NoviKlijent:X,PostojeciKlijenti:ot}})],nt);var it=nt,st=it,lt=(0,u.A)(st,T,J,!1,null,null,null),ct=lt.exports,ut=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"container py-5"},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-breadcrumb",[a("b-breadcrumb-item",{attrs:{to:"/"}},[t._v("Home")]),a("b-breadcrumb-item",{attrs:{active:""}},[t._v("Lista klijenata")])],1)],1)],1),a("b-row",{staticClass:"mb-5"},[a("b-col",{attrs:{cols:"12"}},[a("postojeci-klijenti")],1)],1)],1)},bt=[],dt=function(t,a,e,o){var r,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,e,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(n<3?r(i):n>3?r(a,e,i):r(a,e))||i);return n>3&&i&&Object.defineProperty(a,e,i),i};let mt=class extends P.lD{};mt=dt([(0,P.uA)({components:{PostojeciKlijenti:ot}})],mt);var vt=mt,pt=vt,ft=(0,u.A)(pt,ut,bt,!1,null,null,null),kt=ft.exports,ht=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("b-container",{staticClass:"my-5"},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-breadcrumb",[a("b-breadcrumb-item",{attrs:{to:"/"}},[t._v("Home")]),a("b-breadcrumb-item",{attrs:{active:""}},[t._v("Dodaj novi ulazni racun")])],1)],1)],1),a("b-row",[a("b-col",[a("ulazni-racun",{staticClass:"mb-5"})],1)],1)],1)},jt=[],zt=function(){var t=this,a=t._self._c;return a("div",[a("b-row",{staticClass:"text-center"},[a("b-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"mb-4"},[t._v("Dodaj novi ulazni racun")])])],1),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{cols:"12",lg:"8"}},[a("b-form",{on:{submit:function(a){return a.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Broj KUF","label-for":"broj-kuf"}},[a("b-form-input",{attrs:{id:"broj-kuf",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.brojKuf,callback:function(a){t.$set(t.form,"brojKuf",a)},expression:"form.brojKuf"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Datum","label-for":"datum"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"datum",placeholder:"Izaberite datum","date-format-options":{day:"numeric",month:"numeric",year:"numeric"}},model:{value:t.form.date,callback:function(a){t.$set(t.form,"date",a)},expression:"form.date"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Dobavljac","label-for":"dobavljac"}},[a("b-form-select",{attrs:{id:"dobavljac",options:t.dobavljacOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.dobavljac,callback:function(a){t.$set(t.form,"dobavljac",a)},expression:"form.dobavljac"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Broj fakture dobavljaca","label-for":"broj-fakture-dobavljaca"}},[a("b-form-input",{attrs:{id:"broj-fakture-dobavljaca",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.brojFakture,callback:function(a){t.$set(t.form,"brojFakture",a)},expression:"form.brojFakture"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Datum fakture dobavljaca","label-for":"datum-fakture-dobavljaca"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"datum-fakture-dobavljaca",placeholder:"Izaberite datum","date-format-options":{day:"numeric",month:"numeric",year:"numeric"}},model:{value:t.form.datumFakture,callback:function(a){t.$set(t.form,"datumFakture",a)},expression:"form.datumFakture"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Rok placanja","label-for":"rok-placanja"}},[a("b-form-input",{attrs:{id:"rok-placanja",type:"number",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.rokPlacanja,callback:function(a){t.$set(t.form,"rokPlacanja",a)},expression:"form.rokPlacanja"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Datum roka placanja","label-for":"datum-roka-placanja"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"datum-roka-placanja",placeholder:"Izaberite datum","date-format-options":{day:"numeric",month:"numeric",year:"numeric"}},model:{value:t.form.rokDatum,callback:function(a){t.$set(t.form,"rokDatum",a)},expression:"form.rokDatum"}})],1)],1),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Za obracun PDV-a","label-for":"obracun-pdv"}},[a("b-form-select",{attrs:{id:"obracun-pdv",options:t.obracunPdvOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.obracunPdv,callback:function(a){t.$set(t.form,"obracunPdv",a)},expression:"form.obracunPdv"}})],1):t._e()],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Vrsta prometa","label-for":"vrsta-prometa"}},[a("b-form-select",{attrs:{id:"vrsta-prometa",options:t.vrstaPrometaOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.vrstaPrometa,callback:function(a){t.$set(t.form,"vrstaPrometa",a)},expression:"form.vrstaPrometa"}})],1):t._e()],1):t._e(),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Knjiga","label-for":"knjiga"}},[a("b-form-select",{attrs:{id:"knjiga",options:t.knjigaOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.knjiga,callback:function(a){t.$set(t.form,"knjiga",a)},expression:"form.knjiga"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Valuta placanja","label-for":"valuta-placanja"}},[a("b-form-select",{attrs:{id:"valuta-placanja",options:t.valutaOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.valuta,callback:function(a){t.$set(t.form,"valuta",a)},expression:"form.valuta"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Iznos fakture","label-for":"bruto"}},[a("b-form-input",{attrs:{id:"bruto",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.bruto,callback:function(a){t.$set(t.form,"bruto",a)},expression:"form.bruto"}})],1)],1),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Neto iznos u valuti placanja","label-for":"neto"}},[a("b-form-input",{attrs:{id:"neto",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.neto,callback:function(a){t.$set(t.form,"neto",a)},expression:"form.neto"}})],1):t._e()],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Bruto iznos sa porezom","label-for":"bruto-pdv"}},[a("b-form-input",{attrs:{id:"bruto-pdv",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.brutoPDV,callback:function(a){t.$set(t.form,"brutoPDV",a)},expression:"form.brutoPDV"}})],1):t._e()],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Neto iznos sa porezom","label-for":"neto-pdv"}},[a("b-form-input",{attrs:{id:"neto-pdv",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.netoPDV,callback:function(a){t.$set(t.form,"netoPDV",a)},expression:"form.netoPDV"}})],1):t._e()],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Iznos poreza","label-for":"iznos-pdv"}},[a("b-form-input",{attrs:{id:"iznos-pdv",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.iznosPdv,callback:function(a){t.$set(t.form,"iznosPdv",a)},expression:"form.iznosPdv"}})],1):t._e()],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Rabat dobavljaca","label-for":"rabat"}},[a("b-form-input",{attrs:{id:"rabat",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.rabat,callback:function(a){t.$set(t.form,"rabat",a)},expression:"form.rabat"}})],1):t._e()],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Kasa skonto","label-for":"kasa-skonto"}},[a("b-form-input",{attrs:{id:"kasa-skonto",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.kasaSkonto,callback:function(a){t.$set(t.form,"kasaSkonto",a)},expression:"form.kasaSkonto"}})],1):t._e()],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Za placanje do","label-for":"rok-placanja-skonto"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"rok-placanja-skonto",placeholder:"Izaberite datum","date-format-options":{day:"numeric",month:"numeric",year:"numeric"}},model:{value:t.form.placanjeDo,callback:function(a){t.$set(t.form,"placanjeDo",a)},expression:"form.placanjeDo"}})],1):t._e()],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Osnovica ulaznog poreza koji se moze odbiti","label-for":"osnovica-ulaznog-pdv"}},[a("b-form-input",{attrs:{id:"osnovica-ulaznog-pdv",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.osnovicaUlazniPDVodbit,callback:function(a){t.$set(t.form,"osnovicaUlazniPDVodbit",a)},expression:"form.osnovicaUlazniPDVodbit"}})],1):t._e()],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Ulazni porez koji se moze odbiti [17%]","label-for":"ulazni-pdv"}},[a("b-form-input",{attrs:{id:"ulazni-pdv",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.ulazniPDVodbit,callback:function(a){t.$set(t.form,"ulazniPDVodbit",a)},expression:"form.ulazniPDVodbit"}})],1):t._e()],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Iznos nabavke od poljoprivrednika","label-for":"nabavka-poljoprivrednik"}},[a("b-form-input",{attrs:{id:"nabavka-poljoprivrednik",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.nabavkaPoljoprivrednika,callback:function(a){t.$set(t.form,"nabavkaPoljoprivrednika",a)},expression:"form.nabavkaPoljoprivrednika"}})],1):t._e()],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Pausalna naknada za poljoprivrednike [5%]","label-for":"pausalna-naknada"}},[a("b-form-input",{attrs:{id:"pausalna-naknada",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.pauslaNaknada,callback:function(a){t.$set(t.form,"pauslaNaknada",a)},expression:"form.pauslaNaknada"}})],1):t._e()],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[this.pdvObveznik?a("b-form-group",{staticClass:"mb-2",attrs:{label:"Ulazni porez koji se ne prikazuje na stranici","label-for":"ulazni-pdv-ne-prikazuje"}},[a("b-form-input",{attrs:{id:"ulazni-pdv-ne-prikazuje",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.ulazniPDVNePrikazuje,callback:function(a){t.$set(t.form,"ulazniPDVNePrikazuje",a)},expression:"form.ulazniPDVNePrikazuje"}})],1):t._e()],1):t._e(),a("b-col",{attrs:{cols:"6"}},[a("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)],1)],1)],1)],1)},_t=[];const yt=(0,G.nY)("dobavljac",{state:()=>({dobavljac:JSON.parse(localStorage.getItem("dobavljac")||"[]")}),actions:{addDobavljac(t){this.dobavljac.push(t),this.saveDobavljac()},saveDobavljac(){localStorage.setItem("dobavljac",JSON.stringify(this.dobavljac))}}}),gt=[{type:"ddo",name:"BH Telecom d.o.o.",address:"456 Elm St",grad:"Sarajevo",pdv:"234567890123",jib:"1234567890123",dobavljac:!0,entitet:"federacija"},{type:"ddo",name:"Elektroprivreda d.o.o.",address:"Titova 2",grad:"Sarajevo",pdv:"123456789012",jib:"1123456789012",dobavljac:!0,entitet:"rs"},{type:"ddo",name:"Vodovod d.o.o.",address:"Obala 4",grad:"Tuzla",pdv:"987654321010",jib:"0987654321010",dobavljac:!0,entitet:"brcko"},{type:"ddo",name:"Gradska Toplana d.o.o.",address:"Vuka Karadžića 10",grad:"Sarajevo",pdv:"345678901234",jib:"2345678901234",dobavljac:!0,entitet:"federacija"},{type:"ddo",name:"Sarajevogas d.o.o.",address:"Zenica 5",grad:"Zenica",pdv:"456789012345",jib:"3456789012345",dobavljac:!0,entitet:"federacija"},{type:"ddo",name:"KJKP Vodovod i Kanalizacija d.o.o.",address:"Mališana 20",grad:"Sarajevo",pdv:"567890123456",jib:"4567890123456",dobavljac:!0,entitet:"federacija"},{type:"ddo",name:"Centrala za uklanjanje otpada d.o.o.",address:"Naselje 3",grad:"Tuzla",pdv:"678901234567",jib:"5678901234567",dobavljac:!0,entitet:"brcko"},{type:"ddo",name:"Elektrodistribucija d.o.o.",address:"Trg Bosne 12",grad:"Banja Luka",pdv:"789012345678",jib:"6789012345678",dobavljac:!0,entitet:"rs"},{type:"ddo",name:"Tehnoekspert d.o.o.",address:"Industrijska 14",grad:"Sarajevo",pdv:"890123456789",jib:"7890123456789",dobavljac:!0,entitet:"federacija"}];var xt=gt,Ct={data(){return{pdvObveznik:Z().clients.find((t=>t.clientKey===this.$route.params.clientKey)).pdvObveznik,hasSubmitted:!1,form:{brojKuf:null,date:null,dobavljac:null,brojFakture:null,datumFakture:null,rokPlacanja:null,rokDatum:null,obracunPdv:null,vrstaPrometa:null,knjiga:null,valuta:null,bruto:null,neto:null,brutoPDV:null,netoPDV:null,iznosPdv:null,rabat:null,kasaSkonto:null,placanjeDo:null,osnovicaUlazniPDVodbit:null,ulazniPDVodbit:null,nabavkaPoljoprivrednika:null,pauslaNaknada:null,ulazniPDVNePrikazuje:null},obracunPdvOptions:[{value:null,text:"Odaberite"},{value:"oporezivo",text:"Oporeziva nabavka"},{value:"neoporezivo",text:"Neoporeziva nabavka"}],vrstaPrometaOptions:[{value:null,text:"Odaberite"},{value:"zakon",text:"Zakon 1"},{value:"usluga",text:"Zakon 2"},{value:"roba",text:"Zakon 3"}],knjigaOptions:[{value:null,text:"Odaberite"},{value:"ulazni",text:"EPO 1"},{value:"izlazni",text:"EPO 2"}],valutaOptions:[{value:null,text:"Odaberite"},{value:"km",text:"KM"},{value:"eur",text:"EUR"},{value:"usd",text:"USD"}]}},computed:{nextKufNumber(){const t=Z();if(t.clients.find((t=>t.clientKey===this.$route.params.clientKey)).kuf){const a=t.clients.find((t=>t.clientKey===this.$route.params.clientKey)).kuf.length+1;return a}return 1},dobavljacOptions(){const t=yt(),a=t.dobavljac.map((t=>({value:t.name.toLowerCase(),text:t.name}))),e=xt.map((t=>({value:t.name.toLowerCase(),text:t.name})));return[{value:null,text:"Izaberite dobavljaca"},...a,...e]}},methods:{onSubmit(){this.hasSubmitted=!0;const t=Z(),a=this.$route.params.clientKey,e=t.clients.find((t=>t.clientKey===a));e?(e.kuf=e.kuf||[],e.kuf.push({...this.form}),t.saveClients()):console.error("Client not found"),this.form={brojKuf:null,date:null,dobavljac:null,brojFakture:null,datumFakture:null,rokPlacanja:null,rokDatum:null,obracunPdv:null,vrstaPrometa:null,knjiga:null,valuta:null,bruto:null,neto:null,brutoPDV:null,netoPDV:null,iznosPdv:null,rabat:null,kasaSkonto:null,placanjeDo:null,osnovicaUlazniPDVodbit:null,ulazniPDVodbit:null,nabavkaPoljoprivrednika:null,pauslaNaknada:null,ulazniPDVNePrikazuje:null},this.hasSubmitted=!1}},mounted(){const t=this.$route.params.clientKey;console.log("Client Key:",t),this.form.brojKuf=this.nextKufNumber,console.log("KUF INDEX:",this.nextKufNumber)}},Pt=Ct,St=(0,u.A)(Pt,zt,_t,!1,null,"46105a22",null),Dt=St.exports,Kt=function(t,a,e,o){var r,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,e,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(n<3?r(i):n>3?r(a,e,i):r(a,e))||i);return n>3&&i&&Object.defineProperty(a,e,i),i};let Ot=class extends P.lD{};Ot=Kt([(0,P.uA)({components:{UlazniRacun:Dt}})],Ot);var Rt=Ot,$t=Rt,wt=(0,u.A)($t,ht,jt,!1,null,null,null),Ut=wt.exports,Vt=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("b-container",{staticClass:"my-5"},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-breadcrumb",[a("b-breadcrumb-item",{attrs:{to:"/"}},[t._v("Home")]),a("b-breadcrumb-item",{attrs:{active:""}},[t._v("Dodaj novi ulazni racun")])],1)],1)],1),a("b-row",[a("b-col",[a("izlazni-racun",{staticClass:"mb-5"})],1)],1)],1)},At=[],It=function(){var t=this,a=t._self._c;return a("div",[a("b-row",{staticClass:"text-center"},[a("b-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"mb-4"},[t._v("Dodaj novi izlazni racun")])])],1),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{cols:"12",lg:"8"}},[a("b-form",{on:{submit:function(a){return a.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Broj racuna","label-for":"broj-racuna"}},[a("b-form-input",{attrs:{id:"racun-kuf",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.brojRacuna,callback:function(a){t.$set(t.form,"brojRacuna",a)},expression:"form.brojRacuna"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Datum","label-for":"datum"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"datum",placeholder:"Izaberite datum","date-format-options":{day:"numeric",month:"numeric",year:"numeric"}},model:{value:t.form.date,callback:function(a){t.$set(t.form,"date",a)},expression:"form.date"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Kupac","label-for":"kupac"}},[a("b-form-select",{attrs:{id:"kupac",options:t.kupacOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.kupac,callback:function(a){t.$set(t.form,"kupac",a)},expression:"form.kupac"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Napomena","label-for":"napomena"}},[a("b-form-input",{attrs:{id:"napomena",type:"text",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.napomena,callback:function(a){t.$set(t.form,"napomena",a)},expression:"form.napomena"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Rok placanja","label-for":"rok-placanja"}},[a("b-form-input",{attrs:{id:"rok-placanja",type:"number",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.rokPlacanja,callback:function(a){t.$set(t.form,"rokPlacanja",a)},expression:"form.rokPlacanja"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Datum roka placanja","label-for":"datum-roka-placanja"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"datum-roka-placanja",placeholder:"Izaberite datum","date-format-options":{day:"numeric",month:"numeric",year:"numeric"}},model:{value:t.form.rokDatum,callback:function(a){t.$set(t.form,"rokDatum",a)},expression:"form.rokDatum"}})],1)],1),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Za obracun PDV-a","label-for":"obracun-pdv"}},[a("b-form-select",{attrs:{id:"obracun-pdv",options:t.obracunPdvOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.obracunPdv,callback:function(a){t.$set(t.form,"obracunPdv",a)},expression:"form.obracunPdv"}})],1)],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Vrsta fakture","label-for":"vrsta-fakture"}},[a("b-form-select",{attrs:{id:"vrsta-fakture",options:t.vrstaFaktureOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.vrstaFakture,callback:function(a){t.$set(t.form,"vrstaFakture",a)},expression:"form.vrstaFakture"}})],1)],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Vrsta prometa","label-for":"vrsta-prometa"}},[a("b-form-select",{attrs:{id:"vrsta-prometa",options:t.vrstaPrometaOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.vrstaPrometa,callback:function(a){t.$set(t.form,"vrstaPrometa",a)},expression:"form.vrstaPrometa"}})],1)],1):t._e(),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Knjiga","label-for":"knjiga"}},[a("b-form-select",{attrs:{id:"knjiga",options:t.knjigaOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.knjiga,callback:function(a){t.$set(t.form,"knjiga",a)},expression:"form.knjiga"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Valuta placanja","label-for":"valuta-placanja"}},[a("b-form-select",{attrs:{id:"valuta-placanja",options:t.valutaOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.valuta,callback:function(a){t.$set(t.form,"valuta",a)},expression:"form.valuta"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Iznos fakture","label-for":"neto"}},[a("b-form-input",{attrs:{id:"neto",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.neto,callback:function(a){t.$set(t.form,"neto",a)},expression:"form.neto"}})],1)],1),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Ino usluge","label-for":"ino-usluge"}},[a("b-form-select",{attrs:{id:"ino-usluge",options:t.inoUslugeOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.inoUsluge,callback:function(a){t.$set(t.form,"inoUsluge",a)},expression:"form.inoUsluge"}})],1)],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Bruto iznos sa porezom","label-for":"bruto-pdv"}},[a("b-form-input",{attrs:{id:"bruto-pdv",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.brutoPDV,callback:function(a){t.$set(t.form,"brutoPDV",a)},expression:"form.brutoPDV"}})],1)],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Neto iznos sa porezom","label-for":"neto-pdv"}},[a("b-form-input",{attrs:{id:"neto-pdv",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.netoPDV,callback:function(a){t.$set(t.form,"netoPDV",a)},expression:"form.netoPDV"}})],1)],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Rabat kupcu","label-for":"rabat"}},[a("b-form-input",{attrs:{id:"rabat",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.rabat,callback:function(a){t.$set(t.form,"rabat",a)},expression:"form.rabat"}})],1)],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Kasa skonto","label-for":"kasa-skonto"}},[a("b-form-input",{attrs:{id:"kasa-skonto",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.kasaSkonto,callback:function(a){t.$set(t.form,"kasaSkonto",a)},expression:"form.kasaSkonto"}})],1)],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Za placanje do","label-for":"rok-placanja-skonto"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"rok-placanja-skonto",placeholder:"Izaberite datum","date-format-options":{day:"numeric",month:"numeric",year:"numeric"}},model:{value:t.form.placanjeDo,callback:function(a){t.$set(t.form,"placanjeDo",a)},expression:"form.placanjeDo"}})],1)],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Statisticka vrijednost izvoza","label-for":"statisticka-vrijednost"}},[a("b-form-input",{attrs:{id:"statisticka-vrijednost",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.statistickaVrijednost,callback:function(a){t.$set(t.form,"statistickaVrijednost",a)},expression:"form.statistickaVrijednost"}})],1)],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Osnovica poreza","label-for":"osnovica-pdv"}},[a("b-form-input",{attrs:{id:"osnovica-pdv",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.osnovicaPDV,callback:function(a){t.$set(t.form,"osnovicaPDV",a)},expression:"form.osnovicaPDV"}})],1)],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Iznos poreza","label-for":"iznos-pdv"}},[a("b-form-input",{attrs:{id:"iznos-pdv",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.iznosPdv,callback:function(a){t.$set(t.form,"iznosPdv",a)},expression:"form.iznosPdv"}})],1)],1):t._e(),this.pdvObveznik?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Neoporeziva osnovica","label-for":"neoporeziva-osnovica"}},[a("b-form-input",{attrs:{id:"neoporeziva-osnovica",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.neoporezivaOsnovica,callback:function(a){t.$set(t.form,"neoporezivaOsnovica",a)},expression:"form.neoporezivaOsnovica"}})],1)],1):t._e(),a("b-col",{attrs:{cols:"6"}},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)],1)],1)],1)],1)},Bt=[];const Nt=(0,G.nY)("kupac",{state:()=>({kupac:JSON.parse(localStorage.getItem("kupac")||"[]")}),actions:{addKupac(t){this.kupac.push(t),this.saveKupac()},saveKupac(){localStorage.setItem("kupac",JSON.stringify(this.kupac))}}}),qt=[{type:"od",name:"Frizerski salon 'Lejla'",address:"Put Mladih Muslimana 12",grad:"Sarajevo",pdv:"131313131313",jib:"1313131313131",kupac:!0,entitet:"federacija"},{type:"ddo",name:"Mesnica 'Bosna'",address:"Titova 2",grad:"Sarajevo",pdv:"762345678901",jib:"1762345678901",kupac:!0,entitet:"rs"},{type:"ddo",name:"Salon namještaja 'Mima'",address:"Kralja Petra 5",grad:"Mostar",pdv:"876543210109",jib:"8765432101091",kupac:!0,entitet:"brcko"},{type:"od",name:"Restoran 'Bosna'",address:"Obala Kulina bana 20",grad:"Sarajevo",pdv:"111222333444",jib:"1112223334445",kupac:!0,entitet:"federacija"},{type:"ddo",name:"Caffe Bar 'Zlatna ribica'",address:"Zelenih beretki 8",grad:"Zenica",pdv:"222333444555",jib:"2223334445556",kupac:!0,entitet:"federacija"},{type:"od",name:"Pizzeria 'Mamma Mia'",address:"Ulica zmaja 3",grad:"Banja Luka",pdv:"333444555666",jib:"3334445556667",kupac:!0,entitet:"rs"},{type:"ddo",name:"Trgovina 'Veseljak'",address:"Slavka Rodića 6",grad:"Tuzla",pdv:"444555666777",jib:"4445556667778",kupac:!0,entitet:"brcko"},{type:"od",name:"Bioskop 'Kino City'",address:"Gospodarska 15",grad:"Sarajevo",pdv:"555666777888",jib:"5556667778889",kupac:!0,entitet:"federacija"},{type:"ddo",name:"Tehnička trgovina 'Expert'",address:"Industrijska zona 7",grad:"Brčko",pdv:"666777888999",jib:"6667778889990",kupac:!0,entitet:"brcko"}];var Ft=qt,Tt={data(){return{pdvObveznik:Z().clients.find((t=>t.clientKey===this.$route.params.clientKey)).pdvObveznik,hasSubmitted:!1,form:{brojRacuna:null,date:null,kupac:null,napomena:null,rokPlacanja:null,rokDatum:null,obracunPdv:null,vrstaFakture:null,vrstaPrometa:null,knjiga:null,valuta:null,neto:null,inoUsluge:null,brutoPDV:null,netoPDV:null,rabat:null,kasaSkonto:null,placanjeDo:null,statistickaVrijednost:null,osnovicaPDV:null,iznosPdv:null,neoporezivaOsnovica:null},staticKupacOptions:[{value:null,text:"Izaberite kupca"},{value:"bht",text:"BH Telecom"},{value:"sika",text:"Sika BiH"},{value:"penny",text:"Penny"}],vrstaFaktureOptions:[{value:null,text:"Odaberite"},{value:"faktura",text:"Faktura"},{value:"avans",text:"Avans"},{value:"gotovinski",text:"Gotovinski"}],obracunPdvOptions:[{value:null,text:"Odaberite"},{value:"oporezivo",text:"Oporeziva nabavka"},{value:"neoporezivo",text:"Neoporeziva nabavka"}],vrstaPrometaOptions:[{value:null,text:"Odaberite"},{value:"zakon",text:"Zakon 1"},{value:"usluga",text:"Zakon 2"},{value:"roba",text:"Zakon 3"}],knjigaOptions:[{value:null,text:"Odaberite"},{value:"ulazni",text:"EPO 1"},{value:"izlazni",text:"EPO 2"}],valutaOptions:[{value:null,text:"Odaberite"},{value:"km",text:"KM"},{value:"eur",text:"EUR"},{value:"usd",text:"USD"}],inoUslugeOptions:[{value:null,text:"Odaberite"},{value:"da",text:"Da"},{value:"ne",text:"Ne"}]}},computed:{nextKifNumber(){const t=Z();if(t.clients.find((t=>t.clientKey===this.$route.params.clientKey)).kif){const a=t.clients.find((t=>t.clientKey===this.$route.params.clientKey)).kif.length+1;return a}return 1},kupacOptions(){const t=Nt(),a=t.kupac.map((t=>({value:t.name.toLowerCase(),text:t.name}))),e=Ft.map((t=>({value:t.name.toLowerCase(),text:t.name})));return[{value:null,text:"Izaberite kupca"},...a,...e]}},methods:{onSubmit(){this.hasSubmitted=!0;const t=Z(),a=this.$route.params.clientKey,e=t.clients.find((t=>t.clientKey===a));e?(e.kif=e.kif||[],e.kif.push({...this.form}),t.saveClients()):console.error("Client not found"),this.form={brojRacuna:null,date:null,kupac:null,napomena:null,rokPlacanja:null,rokDatum:null,obracunPdv:null,vrstaFakture:null,vrstaPrometa:null,knjiga:null,valuta:null,neto:null,inoUsluge:null,brutoPDV:null,netoPDV:null,rabat:null,kasaSkonto:null,placanjeDo:null,statistickaVrijednost:null,osnovicaPDV:null,iznosPdv:null,neoporezivaOsnovica:null},this.hasSubmitted=!1}},mounted(){const t=this.$route.params.clientKey;console.log("Client Key:",t),console.log(this.nextKifNumber),this.form.brojRacuna=this.nextKifNumber}},Jt=Tt,Mt=(0,u.A)(Jt,It,Bt,!1,null,"3fe9d5d2",null),Et=Mt.exports,Gt=function(t,a,e,o){var r,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,e,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(n<3?r(i):n>3?r(a,e,i):r(a,e))||i);return n>3&&i&&Object.defineProperty(a,e,i),i};let Zt=class extends P.lD{};Zt=Gt([(0,P.uA)({components:{IzlazniRacun:Et}})],Zt);var Lt=Zt,Ht=Lt,Yt=(0,u.A)(Ht,Vt,At,!1,null,null,null),Xt=Yt.exports,Qt=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"container py-5"},[a("b-row",{staticClass:"mb-5"},[a("b-col",{attrs:{cols:"12"}},[a("detalji-klijent",{attrs:{clients:t.combinedClients}})],1)],1),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-tabs",{attrs:{"active-nav-item-class":"font-weight-bold text-uppercase text-success","content-class":"mt-3"}},[a("b-tab",{attrs:{title:"KUF",active:""}},[a("KlijentKuf",{attrs:{clients:t.combinedClients}})],1),a("b-tab",{attrs:{title:"KIF"}},[a("KlijentKif",{attrs:{clients:t.combinedClients}})],1),a("b-tab",{attrs:{title:"Dobavljaci"}},[a("postojeci-dobavljaci")],1),a("b-tab",{attrs:{title:"Kupci"}},[a("postojeci-kupci")],1),a("b-tab",{attrs:{title:"Knjiga EPO 1044"}},[a("knjiga-epo",{attrs:{clients:t.combinedClients}})],1),a("b-tab",{attrs:{title:"Knjiga KPR 1041"}},[a("KnjigaKPR",{attrs:{clients:t.combinedClients}})],1)],1)],1)],1)],1)},Wt=[],ta=function(){var t=this,a=t._self._c;return a("b-container",[a("b-row",[a("b-col",{attrs:{cols:"12",lg:"3"}},[a("b-card",{staticClass:"mb-3",attrs:{title:"Podaci o vlasniku"}},[a("p",{staticClass:"mb-0"},[t._v("1. JMB:")]),t.client&&t.client.vlasnikJMBG?a("p",[t._v(t._s(t.client.vlasnikJMBG))]):t._e(),a("p",{staticClass:"mb-0"},[t._v("2. Ime i prezime:")]),t.client&&t.client.vlasnikImePrezime?a("p",[t._v(t._s(t.client.vlasnikImePrezime))]):t._e(),a("p",{staticClass:"mb-0"},[t._v("3. Adresa:")]),t.client&&t.client.vlasnikAdresa?a("p",[t._v(t._s(t.client.vlasnikAdresa))]):t._e()])],1),a("b-col",{attrs:{cols:"12",lg:"4"}},[a("b-card",{staticClass:"mb-3",attrs:{title:"Podaci o registrovanoj djelatnosti"}},[a("p",{staticClass:"mb-0"},[t._v("4. JIB:")]),a("p",[t._v(t._s(t.client.jib))]),a("p",{staticClass:"mb-0"},[t._v("5. Naziv:")]),a("p",[t._v(t._s(t.client.name))]),a("p",{staticClass:"mb-0"},[t._v("6. Adresa:")]),a("p",[t._v(t._s(t.client.address))])])],1),a("b-col",{attrs:{cols:"12",lg:"5"}},[a("b-card",{staticClass:"mb-3",attrs:{title:"Podaci o banci"}},[t.client&&t.client.bankAccounts&&0===t.client.bankAccounts.length?a("p",{staticClass:"mb-0"},[t._v(" Trenutno nema aktivan bankovni račun. ")]):t._e(),a("b-table",{attrs:{striped:"",hover:"",items:t.client.bankAccounts,fields:t.tableFields},scopedSlots:t._u([{key:"cell(nazivBanke)",fn:function(a){return[t._v(" "+t._s(a.item.nazivBanke)+" ")]}},{key:"cell(ziroRacun)",fn:function(e){return[a("span",{staticClass:"clickable-ziro",on:{click:function(a){return t.goToEditBankAccount(e.item.ziroRacun)}}},[t._v(" "+t._s(e.item.ziroRacun)+" ")])]}},{key:"cell(stanje)",fn:function(e){return[a("b-button",{attrs:{variant:e.item.active?"success":"outline-primary",size:"sm"},on:{click:function(a){return t.setAktivniRacun(e.item.ziroRacun)}}},[t._v(" "+t._s(e.item.active?"Aktivan":"Postavi kao aktivni")+" ")])]}}])}),a("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(a){return t.$router.push({name:"dodaj-bankovni-racun",params:{clientKey:t.client.clientKey}})}}},[t._v(" Dodaj novu banku ")])],1)],1)],1),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-card",{staticClass:"mb-3",attrs:{title:"Akcije"}},[a("b-button",{staticClass:"mr-3",attrs:{variant:"primary",size:"sm"},on:{click:function(a){return t.$router.push({name:"izvod",params:{clientKey:t.client.clientKey}})}}},[t._v(" Dodaj izvod ")]),a("b-button",{staticClass:"mx-3",attrs:{variant:"primary",size:"sm"},on:{click:function(a){return t.$router.push({name:"dodaj-ulazni-racun",params:{clientKey:t.client.clientKey}})}}},[t._v(" Dodaj ulazni račun ")]),a("b-button",{staticClass:"mr-3",attrs:{variant:"success",size:"sm"},on:{click:function(a){return t.$router.push({name:"dodaj-izlazni-racun",params:{clientKey:t.client.clientKey}})}}},[t._v(" Dodaj izlazni račun ")]),a("div",{staticClass:"my-3 border-top"}),a("b-button",{staticClass:"mr-3",attrs:{variant:"outline-primary",size:"sm"},on:{click:function(a){return t.$router.push({name:"dodaj-ulazni-racun",params:{clientKey:t.client.clientKey}})}}},[t._v(" Dodaj kupca ")]),a("b-button",{staticClass:"mx-3",attrs:{variant:"outline-success",size:"sm"},on:{click:function(a){return t.$router.push({name:"dodaj-izlazni-racun",params:{clientKey:t.client.clientKey}})}}},[t._v(" Dodaj dobavljača ")]),a("div",{staticClass:"my-3 border-top"})],1)],1)],1)],1)},aa=[],ea={data(){return{client:null,tableFields:[{key:"nazivBanke",label:"Naziv banke"},{key:"ziroRacun",label:"Žiro račun"},{key:"stanje",label:"Stanje"}]}},methods:{goToEditBankAccount(t){this.$router.push({name:"EditBankAccount",params:{ziroRacun:t}})},setAktivniRacun(t){this.client.bankAccounts=this.client.bankAccounts.map((a=>({...a,active:a.ziroRacun===t})));const a=Z();a.saveClients(this.client)}},created(){const t=this.$route.params.clientKey,a=Z(),e=[...a.clients];this.client=e.find((a=>a.clientKey===t)),this.client||console.error("Client not found with clientKey:",t)}},oa=ea,ra=(0,u.A)(oa,ta,aa,!1,null,"9a43400a",null),na=ra.exports,ia=function(){var t=this,a=t._self._c;return a("b-container",[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("h2",[t._v("Knjiga EPO 1044")]),a("div",{staticClass:"table-responsive"},[a("table",[a("thead",[a("tr",[a("th",[t._v("7) Red. br.")]),a("th",[t._v("8) Naziv kupca ili dobavljaca")]),a("th",[t._v("9) Broj racuna")]),a("th",[t._v("10) Datum izdavanja")]),a("th",[t._v("11) Iznos u KM")]),a("th",[t._v("12) Naplaceno Datum")]),a("th",[t._v("13) Naplaceno Iznos")]),a("th",[t._v("14) Broj racuna")]),a("th",[t._v("15) Datum prijema")]),a("th",[t._v("16) Iznos obaveze")]),a("th",[t._v("17) Placeno Datum")]),a("th",[t._v("18) Placeno Iznos")]),a("th",[t._v("19) Red. br. u KPR")])])]),a("tbody",[t._l(t.client.kif,(function(e,o){return a("tr",{key:e.brojRacuna},[a("td",[t._v(t._s(o+1))]),a("td",[t._v(t._s(e.kupac))]),a("td",[t._v(t._s(e.brojRacuna))]),a("td",[t._v(t._s(new Date(e.date).toLocaleDateString("en-GB")))]),a("td",[t._v(t._s(e.neto))]),t.isValidDate(e.datumPlacanja)?a("td",[t._v(" "+t._s(t.formatDate(e.datumPlacanja))+" ")]):t._e(),a("td",[t._v(t._s(e.iznosUplate))]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")])})),t._l(t.client.kuf,(function(e,o){return a("tr",{key:e.brojKuf},[a("td",[t._v(t._s(o+1))]),a("td",[t._v(t._s(e.dobavljac))]),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(e.brojKuf))]),a("td",[t._v(t._s(new Date(e.date).toLocaleDateString("en-GB")))]),a("td",[t._v(t._s(e.bruto))]),t.isValidDate(e.datumPlacanja)?a("td",[t._v(" "+t._s(t.formatDate(e.datumPlacanja))+" ")]):t._e(),a("td",[t._v(t._s(e.iznosUplate))]),t._v(" "),a("td")])}))],2)])])])],1)],1)},sa=[],la={props:{clients:{type:Array,required:!0}},data(){return{client:null}},methods:{isValidDate(t){const a=new Date(t);return!isNaN(a.getTime())},formatDate(t){return new Date(t).toLocaleDateString("en-GB")}},created(){const t=this.$route.params.clientKey,a=Z(),e=[...a.clients];this.client=e.find((a=>a.clientKey===t)),this.client||console.error("Client not found with clientKey:",t)}},ca=la,ua=(0,u.A)(ca,ia,sa,!1,null,"2285f9e2",null),ba=ua.exports,da=function(){var t=this,a=t._self._c;return a("b-container",t._l(t.dobavljaci,(function(e,o){return a("b-card",{key:e.jib,staticClass:"mb-3",on:{click:function(a){return t.toggleCollapse(o)}},scopedSlots:t._u([{key:"header",fn:function(){return[a("span",[t._v(" "+t._s(`${o+1} | ${e.name}`)+" - "+t._s(e.jib)+" ")])]},proxy:!0}],null,!0)},[a("b-collapse",{attrs:{id:"collapse-"+o},model:{value:t.collapse[o],callback:function(a){t.$set(t.collapse,o,a)},expression:"collapse[index]"}},[a("b-card-text",[t._v(" Oblik: "+t._s(e.type)+" "),a("br"),t._v(" Adresa: "+t._s(e.address)+" "),a("br"),t._v(" Grad: "+t._s(e.grad)+" "),a("br"),t._v(" PDV: "+t._s(e.pdv)+" "),a("br"),t._v(" JIB: "+t._s(e.jib)+" "),a("br"),t._v(" Entitet: "+t._s(e.entitet)+" ")])],1)],1)})),1)},ma=[],va={data(){return{collapse:[]}},computed:{dobavljaci(){const t=yt();return[...t.dobavljac,...xt]}},methods:{toggleCollapse(t){this.$set(this.collapse,t,!this.collapse[t])}}},pa=va,fa=(0,u.A)(pa,da,ma,!1,null,"54d5e4e2",null),ka=fa.exports,ha=function(){var t=this,a=t._self._c;return a("b-container",t._l(t.kupci,(function(e,o){return a("b-card",{key:e.jib,staticClass:"mb-3",on:{click:function(a){return t.toggleCollapse(o)}},scopedSlots:t._u([{key:"header",fn:function(){return[a("span",[t._v(" "+t._s(`${o+1} | ${e.name}`)+" - "+t._s(e.jib)+" ")])]},proxy:!0}],null,!0)},[a("b-collapse",{attrs:{id:"collapse-"+o},model:{value:t.collapse[o],callback:function(a){t.$set(t.collapse,o,a)},expression:"collapse[index]"}},[a("b-card-text",[t._v(" Oblik: "+t._s(e.type)+" "),a("br"),t._v(" Adresa: "+t._s(e.address)+" "),a("br"),t._v(" Grad: "+t._s(e.grad)+" "),a("br"),t._v(" PDV: "+t._s(e.pdv)+" "),a("br"),t._v(" JIB: "+t._s(e.jib)+" "),a("br"),t._v(" Entitet: "+t._s(e.entitet)+" ")])],1)],1)})),1)},ja=[],za={data(){return{collapse:[]}},computed:{kupci(){const t=Nt();return[...t.kupac,...Ft]}},methods:{toggleCollapse(t){this.$set(this.collapse,t,!this.collapse[t])}}},_a=za,ya=(0,u.A)(_a,ha,ja,!1,null,"eec1e844",null),ga=ya.exports,xa=function(){var t=this,a=t._self._c;return a("b-container",[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-table",{staticClass:"mb-4",attrs:{items:t.client.kuf,fields:t.tableFields,responsive:"md"},scopedSlots:t._u([{key:"cell(index)",fn:function(a){return[t._v(" "+t._s(a.index+1)+" ")]}},{key:"cell(dobavljac)",fn:function(a){return[t._v(" "+t._s(a.item.dobavljac)+" ")]}},{key:"cell(brojKuf)",fn:function(a){return[t._v(" "+t._s(a.item.brojKuf)+" ")]}},{key:"cell(date)",fn:function(a){return[t._v(" "+t._s(new Date(a.item.date).toLocaleDateString("en-GB"))+" ")]}},{key:"cell(bruto)",fn:function(a){return[t._v(" "+t._s(a.item.bruto)+" ")]}},{key:"cell(placeno-datum)",fn:function(e){return[t.isValidDate(e.item.datumPlacanja)?a("span",[t._v(t._s(t.formatDate(e.item.datumPlacanja)))]):t._e()]}},{key:"cell(placeno-iznos)",fn:function(a){return[t._v(" "+t._s(a.item.iznosUplate)+" ")]}},{key:"cell(kprRedniBr)",fn:function(a){return[t._v(" "+t._s(a.index+1)+" ")]}},{key:"cell(akcija)",fn:function(e){return[a("router-link",{attrs:{to:t.getIzvodLink(e.item.brojKuf)}},[a("b-button",{attrs:{variant:"outline-success",size:"sm"}},[t._v("Dodaj izvod")])],1)]}}])})],1)],1)],1)},Ca=[],Pa={props:{clients:{type:Array,required:!0}},data(){return{client:null,tableFields:[{key:"index",label:"Red. br."},{key:"dobavljac",label:"Naziv dobavljaca"},{key:"brojKuf",label:"Broj racuna"},{key:"date",label:"Datum prijema"},{key:"bruto",label:"Iznos obaveze"},{key:"placeno-datum",label:"Datum placanja"},{key:"placeno-iznos",label:"Iznos placanja"},{key:"kprRedniBr",label:"Red. br. u KPR"},{key:"akcija",label:"Akcija"}]}},created(){const t=this.$route.params.clientKey,a=Z(),e=[...a.clients];this.client=e.find((a=>a.clientKey===t)),this.client||console.error("Client not found with clientKey:",t)},methods:{getIzvodLink(t){return{name:"izvod",params:{clientKey:this.$route.params.clientKey},query:{brojKuf:t}}},isValidDate(t){const a=new Date(t);return!isNaN(a.getTime())},formatDate(t){return new Date(t).toLocaleDateString("en-GB")}}},Sa=Pa,Da=(0,u.A)(Sa,xa,Ca,!1,null,null,null),Ka=Da.exports,Oa=function(){var t=this,a=t._self._c;return a("b-container",[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-table",{staticClass:"mb-4",attrs:{items:t.client.kif,fields:t.tableFields,responsive:"md"},scopedSlots:t._u([{key:"cell(index)",fn:function(a){return[t._v(" "+t._s(a.index+1)+" ")]}},{key:"cell(kupac)",fn:function(a){return[t._v(" "+t._s(a.item.kupac)+" ")]}},{key:"cell(brojRacuna)",fn:function(a){return[t._v(" "+t._s(a.item.brojRacuna)+" ")]}},{key:"cell(date)",fn:function(a){return[t._v(" "+t._s(new Date(a.item.date).toLocaleDateString("en-GB"))+" ")]}},{key:"cell(neto)",fn:function(a){return[t._v(" "+t._s(a.item.neto)+" ")]}},{key:"cell(placeno-datum)",fn:function(e){return[t.isValidDate(e.item.datumPlacanja)?a("span",[t._v(t._s(t.formatDate(e.item.datumPlacanja)))]):t._e()]}},{key:"cell(placeno-iznos)",fn:function(a){return[t._v(" "+t._s(a.item.iznosUplate)+" ")]}},{key:"cell(kprRedniBr)",fn:function(a){return[t._v(" "+t._s(a.index+1)+" ")]}},{key:"cell(akcija)",fn:function(e){return[a("router-link",{attrs:{to:t.getIzvodLink(e.item.brojRacuna)}},[a("b-button",{attrs:{variant:"outline-success",size:"sm"}},[t._v("Dodaj izvod")])],1)]}}])})],1)],1)],1)},Ra=[],$a={props:{clients:{type:Array,required:!0}},data(){return{client:null,tableFields:[{key:"index",label:"Red. br."},{key:"kupac",label:"Naziv kupca"},{key:"brojRacuna",label:"Broj racuna"},{key:"date",label:"Datum prijema"},{key:"neto",label:"Iznos obaveze"},{key:"placeno-datum",label:"Datum placanja"},{key:"placeno-iznos",label:"Iznos placanja"},{key:"kprRedniBr",label:"Red. br. u KPR"},{key:"akcija",label:"Akcija"}]}},methods:{getIzvodLink(t){return{name:"izvod",params:{clientKey:this.$route.params.clientKey},query:{brojRacuna:t}}},isValidDate(t){const a=new Date(t);return!isNaN(a.getTime())},formatDate(t){return new Date(t).toLocaleDateString("en-GB")}},created(){const t=this.$route.params.clientKey,a=Z(),e=[...a.clients];this.client=e.find((a=>a.clientKey===t)),this.client||console.error("Client not found with clientKey:",t)}},wa=$a,Ua=(0,u.A)(wa,Oa,Ra,!1,null,null,null),Va=Ua.exports,Aa=function(){var t=this,a=t._self._c;return a("b-container",[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("h2",[t._v("Knjiga KPR 1041")]),a("div",[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("7) Red. br.")]),a("th",[t._v("8) Datum prihoda/rashoda")]),a("th",[t._v("9) Broj dokumenta")]),a("th",[t._v("10) Opis dokumenta")]),a("th",[t._v("11) U gotovini")]),a("th",[t._v("12) Preko bankovnog racuna")]),a("th",[t._v("13) U stvarima i uslugama")]),a("th",[t._v("14) PDV u prihodima")]),a("th",[t._v("15) Ukupni prihodi")]),a("th",[t._v("16) U robi / materijalu")]),a("th",[t._v("17) Bruto place zaposlenika")]),a("th",[t._v("18) Placeni doprinosi poduzetnika")]),a("th",[t._v("19) Ostalo")]),a("th",[t._v("20) PDV u rashodima")]),a("th",[t._v("21) Ukupni rashodi")])])]),a("tbody",[0===t.filteredKif.length&&0===t.filteredKuf.length?a("tr",[a("td",{attrs:{colspan:"15"}},[t._v("No data available")])]):t._e(),t._l(t.filteredKif,(function(e,o){return a("tr",{key:e.brojRacuna},[a("td",[t._v(t._s(o+1))]),a("td",[t._v(t._s(new Date(e.datumPlacanja).toLocaleDateString("en-GB")))]),a("td",[t._v(t._s(e.brojIzvoda))]),a("td",[t._v(t._s(e.opisStavke))]),a("td",[t._v("0")]),a("td",[t._v(t._s(e.iznosUplate))]),a("td",[t._v("0")]),a("td",[t._v("0")]),a("td",[t._v(t._s(e.iznosUplate))]),a("td"),a("td"),a("td"),a("td")])})),t._l(t.filteredKuf,(function(e,o){return a("tr",{key:e.brojKuf},[a("td",[t._v(t._s(o+1))]),a("td",[t._v(t._s(new Date(e.datumPlacanja).toLocaleDateString("en-GB")))]),a("td",[t._v(t._s(e.brojIzvoda))]),a("td",[t._v(t._s(e.opisStavke))]),a("td"),a("td"),a("td"),a("td"),a("td"),a("td",[t._v("0")]),a("td",[t._v("0")]),a("td",[t._v("0")]),a("td",[t._v(t._s(e.iznosUplate))]),a("td",[t._v("0")]),a("td",[t._v(t._s(e.iznosUplate))])])}))],2)])])])],1)],1)},Ia=[],Ba={props:{clients:{type:Array,required:!0}},data(){return{client:null}},computed:{filteredKif(){return this.client&&this.client.kif?this.client.kif.filter((t=>null!==t.iznosUplate&&t.iznosUplate>0)):[]},filteredKuf(){return this.client&&this.client.kuf?this.client.kuf.filter((t=>null!==t.iznosUplate&&t.iznosUplate>0)):[]}},created(){const t=this.$route.params.clientKey,a=Z(),e=[...a.clients];this.client=e.find((a=>a.clientKey===t)),this.client||console.error("Client not found with clientKey:",t)}},Na=Ba,qa=(0,u.A)(Na,Aa,Ia,!1,null,"a826d0dc",null),Fa=qa.exports,Ta=function(t,a,e,o){var r,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,e,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(n<3?r(i):n>3?r(a,e,i):r(a,e))||i);return n>3&&i&&Object.defineProperty(a,e,i),i};let Ja=class extends P.lD{get combinedClients(){const t=Z();return[...t.clients]}};Ja=Ta([(0,P.uA)({components:{DetaljiKlijent:na,KlijentKuf:Ka,KlijentKif:Va,KnjigaEpo:ba,PostojeciDobavljaci:ka,PostojeciKupci:ga,KnjigaKPR:Fa}})],Ja);var Ma=Ja,Ea=Ma,Ga=(0,u.A)(Ea,Qt,Wt,!1,null,null,null),Za=Ga.exports,La=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"container py-5"},[a("b-row",{staticClass:"mb-5"},[a("b-col",{attrs:{cols:"12"}},[a("b-breadcrumb",[a("b-breadcrumb-item",{attrs:{to:"/"}},[t._v("Home")]),a("b-breadcrumb-item",{attrs:{active:""}},[t._v("Dodaj novog dobavljaca")])],1)],1)],1),a("b-row",[a("b-col",[a("NoviDobavljac",{staticClass:"mb-5"})],1)],1)],1)},Ha=[],Ya=function(){var t=this,a=t._self._c;return a("div",[a("b-row",{staticClass:"text-center"},[a("b-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"mb-4"},[t._v("Dodaj novog dobavljaca")])])],1),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{cols:"12",lg:"8"}},[a("b-form",{on:{submit:function(a){return a.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Oblik","label-for":"client-type"}},[a("b-form-select",{attrs:{id:"client-type",options:t.clientTypeOptions,required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.type,callback:function(a){t.$set(t.form,"type",a)},expression:"form.type"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Naziv","label-for":"client-name"}},[a("b-form-input",{attrs:{id:"client-name",required:"",state:!t.hasSubmitted||t.form.name.length>0,placeholder:"Upisite naziv klijenta"},model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Adresa","label-for":"client-address"}},[a("b-form-input",{attrs:{id:"client-address",state:!t.hasSubmitted||t.form.address.length>0,placeholder:"Upisite adresu klijenta"},model:{value:t.form.address,callback:function(a){t.$set(t.form,"address",a)},expression:"form.address"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Grad","label-for":"client-grad"}},[a("b-form-input",{attrs:{id:"client-grad",state:!t.hasSubmitted||t.form.grad.length>0,placeholder:"Upisite grad klijenta"},model:{value:t.form.grad,callback:function(a){t.$set(t.form,"grad",a)},expression:"form.grad"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"PDV","label-for":"client-pdv",description:"Unesite ispravan 12-cifreni PDV broj"}},[a("b-form-input",{attrs:{id:"client-pdv",type:"text",maxlength:"12",placeholder:"Upisite PDV klijenta",state:!t.hasSubmitted||t.pdvValid||t.pdvTouched,required:""},on:{input:function(a){t.hasSubmitted=!1},blur:t.validatePDV},model:{value:t.form.pdv,callback:function(a){t.$set(t.form,"pdv",a)},expression:"form.pdv"}}),t.hasSubmitted&&!t.pdvValid?a("b-form-invalid-feedback",[t._v(" Unesite ispravan 12-cifreni PDV broj. ")]):t._e()],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"JIB","label-for":"client-jib",description:"Unesite ispravan 13-cifreni JIB broj"}},[a("b-form-input",{attrs:{id:"client-jib",type:"text",maxlength:"13",placeholder:"Upisite JIB klijenta",state:!t.hasSubmitted||t.jibValid||t.jibTouched,required:""},on:{input:function(a){t.hasSubmitted=!1},blur:t.validateJIB},model:{value:t.form.jib,callback:function(a){t.$set(t.form,"jib",a)},expression:"form.jib"}}),t.hasSubmitted&&!t.jibValid?a("b-form-invalid-feedback",[t._v(" Unesite ispravan 13-cifreni JIB broj. ")]):t._e()],1)],1),a("b-col",{staticClass:"d-none",attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2"},[a("b-form-checkbox",{attrs:{id:"client-dobavljac",hidden:"",value:"true"},model:{value:t.form.dobavljac,callback:function(a){t.$set(t.form,"dobavljac",a)},expression:"form.dobavljac"}},[t._v(" Dobavljač ")])],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Entitet","label-for":"client-entitet"}},[a("b-form-select",{attrs:{id:"client-entitet",options:t.entitetOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.entitet,callback:function(a){t.$set(t.form,"entitet",a)},expression:"form.entitet"}})],1)],1),a("b-col",{attrs:{cols:"12"}},[a("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)],1)],1)],1),a("b-modal",{attrs:{id:"success-modal",centered:"",title:"Dobavljac uspješno dodan","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function({close:e}){return[a("h5",{staticClass:"modal-title"},[t._v("Dobavljac uspješno dodan")]),a("b-button",{staticClass:"close",attrs:{"aria-label":"Close"},on:{click:e}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]}}])},[a("p",{staticClass:"my-4"},[t._v("Uspješno ste dodali novog dobavljaca")]),a("b-button",{attrs:{variant:"primary"},on:{click:function(a){return t.$bvModal.hide("success-modal")}}},[t._v("Dodaj novog dobavljaca")]),a("b-button",{staticClass:"mx-3",attrs:{variant:"outline-primary"},on:{click:function(a){return t.$router.push("/dobavljaci")}}},[t._v("Pogledaj dobavljace")])],1)],1)},Xa=[],Qa={data(){return{hasSubmitted:!1,pdvTouched:!1,jibTouched:!1,form:{type:null,address:"",name:"",grad:"",pdv:"",jib:"",dobavljac:!0,entitet:null},clientTypeOptions:[{value:null,text:"Izaberite oblik klijenta"},{value:"doo",text:"d.o.o."},{value:"dd",text:"d.d."},{value:"od",text:"O.D."}],entitetOptions:[{value:null,text:"Izaberite entitet"},{value:"fbih",text:"Federacija"},{value:"rs",text:"Republika Srpska"},{value:"bd",text:"Brčko Distrikt"}]}},computed:{pdvValid(){const t=/^\d{12}$/;return 12===this.form.pdv.length&&t.test(this.form.pdv)},jibValid(){const t=/^\d{13}$/;return t.test(this.form.jib)}},methods:{onSubmit(){if(this.hasSubmitted=!0,!this.pdvValid)return void alert("Unesite ispravan 12-cifreni PDV broj.");if(!this.jibValid)return void alert("Unesite ispravan 13-cifreni JIB broj.");const t=yt();t.addDobavljac({type:this.form.type,name:this.form.name,address:this.form.address,grad:this.form.grad,pdv:this.form.pdv,jib:this.form.jib,dobavljac:this.form.dobavljac,entitet:this.form.entitet}),this.$bvModal.show("success-modal"),this.resetForm()},resetForm(){this.form={type:null,name:"",address:"",grad:"",pdv:"",jib:"",dobavljac:!0,entitet:null},this.hasSubmitted=!1},validatePDV(){this.pdvTouched=!0,this.hasSubmitted=!0},validateJIB(){this.jibTouched=!0,this.hasSubmitted=!0}}},Wa=Qa,te=(0,u.A)(Wa,Ya,Xa,!1,null,null,null),ae=te.exports,ee=function(t,a,e,o){var r,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,e,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(n<3?r(i):n>3?r(a,e,i):r(a,e))||i);return n>3&&i&&Object.defineProperty(a,e,i),i};let oe=class extends P.lD{};oe=ee([(0,P.uA)({components:{NoviDobavljac:ae}})],oe);var re=oe,ne=re,ie=(0,u.A)(ne,La,Ha,!1,null,null,null),se=ie.exports,le=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"container py-5"},[a("b-row",{staticClass:"mb-5"},[a("b-col",{attrs:{cols:"12"}},[a("b-breadcrumb",[a("b-breadcrumb-item",{attrs:{to:"/"}},[t._v("Home")]),a("b-breadcrumb-item",{attrs:{active:""}},[t._v("Dodaj novog kupca")])],1)],1)],1),a("b-row",[a("b-col",[a("NoviKupac",{staticClass:"mb-5"})],1)],1)],1)},ce=[],ue=function(){var t=this,a=t._self._c;return a("div",[a("b-row",{staticClass:"text-center"},[a("b-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"mb-4"},[t._v("Dodaj novog kupca")])])],1),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{cols:"12",lg:"8"}},[a("b-form",{on:{submit:function(a){return a.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Oblik","label-for":"client-type"}},[a("b-form-select",{attrs:{id:"client-type",options:t.clientTypeOptions,required:"",state:!t.hasSubmitted||null!==t.form.type},model:{value:t.form.type,callback:function(a){t.$set(t.form,"type",a)},expression:"form.type"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Naziv","label-for":"client-name"}},[a("b-form-input",{attrs:{id:"client-name",required:"",state:!t.hasSubmitted||t.form.name.length>0,placeholder:"Upisite naziv klijenta"},model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Adresa","label-for":"client-address"}},[a("b-form-input",{attrs:{id:"client-address",state:!t.hasSubmitted||t.form.address.length>0,placeholder:"Upisite adresu klijenta"},model:{value:t.form.address,callback:function(a){t.$set(t.form,"address",a)},expression:"form.address"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Grad","label-for":"client-grad"}},[a("b-form-input",{attrs:{id:"client-grad",state:!t.hasSubmitted||t.form.grad.length>0,placeholder:"Upisite grad klijenta"},model:{value:t.form.grad,callback:function(a){t.$set(t.form,"grad",a)},expression:"form.grad"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"PDV","label-for":"client-pdv",description:"Unesite ispravan 12-cifreni PDV broj"}},[a("b-form-input",{attrs:{id:"client-pdv",type:"text",maxlength:"12",placeholder:"Upisite PDV klijenta",state:!t.hasSubmitted||t.pdvValid||t.pdvTouched,required:""},on:{input:function(a){t.hasSubmitted=!1},blur:t.validatePDV},model:{value:t.form.pdv,callback:function(a){t.$set(t.form,"pdv",a)},expression:"form.pdv"}}),t.hasSubmitted&&!t.pdvValid?a("b-form-invalid-feedback",[t._v(" Unesite ispravan 12-cifreni PDV broj. ")]):t._e()],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"JIB","label-for":"client-jib",description:"Unesite ispravan 13-cifreni JIB broj"}},[a("b-form-input",{attrs:{id:"client-jib",type:"text",maxlength:"13",placeholder:"Upisite JIB klijenta",state:!t.hasSubmitted||t.jibValid||t.jibTouched,required:""},on:{input:function(a){t.hasSubmitted=!1},blur:t.validateJIB},model:{value:t.form.jib,callback:function(a){t.$set(t.form,"jib",a)},expression:"form.jib"}}),t.hasSubmitted&&!t.jibValid?a("b-form-invalid-feedback",[t._v(" Unesite ispravan 13-cifreni JIB broj. ")]):t._e()],1)],1),a("b-col",{attrs:{cols:"6 d-none"}},[a("b-form-group",{staticClass:"mb-2"},[a("b-form-checkbox",{attrs:{id:"client-kupac",hidden:"",value:"true"},model:{value:t.form.kupac,callback:function(a){t.$set(t.form,"kupac",a)},expression:"form.kupac"}},[t._v(" Kupac ")])],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Entitet","label-for":"client-entitet"}},[a("b-form-select",{attrs:{id:"client-entitet",options:t.entitetOptions,required:"",state:!t.hasSubmitted||null!==t.form.entitet},model:{value:t.form.entitet,callback:function(a){t.$set(t.form,"entitet",a)},expression:"form.entitet"}})],1)],1),a("b-col",{attrs:{cols:"12"}},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)],1)],1)],1),a("b-modal",{attrs:{id:"success-modal",centered:"",title:"Kupac uspješno dodan","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function({close:e}){return[a("h5",{staticClass:"modal-title"},[t._v("Kupac uspješno dodan")]),a("b-button",{staticClass:"close",attrs:{"aria-label":"Close"},on:{click:e}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]}}])},[a("p",{staticClass:"my-4"},[t._v("Uspješno ste dodali novog kupca")]),a("b-button",{attrs:{variant:"primary"},on:{click:function(a){return t.$bvModal.hide("success-modal")}}},[t._v("Dodaj novog kupca")]),a("b-button",{staticClass:"mx-3",attrs:{variant:"outline-primary"},on:{click:function(a){return t.$router.push("/kupci")}}},[t._v("Pogledaj kupce")])],1)],1)},be=[],de={data(){return{hasSubmitted:!1,pdvTouched:!1,jibTouched:!1,form:{type:null,address:"",name:"",grad:"",pdv:"",jib:"",kupac:!0,entitet:null},clientTypeOptions:[{value:null,text:"Izaberite oblik klijenta"},{value:"doo",text:"d.o.o."},{value:"dd",text:"d.d."},{value:"od",text:"O.D."}],entitetOptions:[{value:null,text:"Izaberite entitet"},{value:"fbih",text:"Federacija"},{value:"rs",text:"Republika Srpska"},{value:"bd",text:"Brčko Distrikt"}]}},computed:{pdvValid(){const t=/^\d{12}$/;return 12===this.form.pdv.length&&t.test(this.form.pdv)},jibValid(){const t=/^\d{13}$/;return t.test(this.form.jib)}},methods:{onSubmit(){if(this.hasSubmitted=!0,!this.pdvValid)return void alert("Unesite ispravan 12-cifreni PDV broj.");if(!this.jibValid)return void alert("Unesite ispravan 13-cifreni JIB broj.");const t=Nt();t.addKupac({type:this.form.type,name:this.form.name,address:this.form.address,grad:this.form.grad,pdv:this.form.pdv,jib:this.form.jib,kupac:this.form.kupac,entitet:this.form.entitet}),this.$bvModal.show("success-modal"),this.resetForm()},resetForm(){this.form={type:null,name:"",address:"",grad:"",pdv:"",jib:"",kupac:!0,entitet:null},this.hasSubmitted=!1},validatePDV(){this.pdvTouched=!0,this.hasSubmitted=!0},validateJIB(){this.jibTouched=!0,this.hasSubmitted=!0}}},me=de,ve=(0,u.A)(me,ue,be,!1,null,null,null),pe=ve.exports,fe=function(t,a,e,o){var r,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,e,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(n<3?r(i):n>3?r(a,e,i):r(a,e))||i);return n>3&&i&&Object.defineProperty(a,e,i),i};let ke=class extends P.lD{};ke=fe([(0,P.uA)({components:{NoviKupac:pe}})],ke);var he=ke,je=he,ze=(0,u.A)(je,le,ce,!1,null,null,null),_e=ze.exports,ye=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"container py-5"},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-breadcrumb",[a("b-breadcrumb-item",{attrs:{to:"/"}},[t._v("Home")]),a("b-breadcrumb-item",{attrs:{active:""}},[t._v("Lista dobavljaca")])],1)],1)],1),a("b-row",{staticClass:"mb-5"},[a("b-col",{attrs:{cols:"12"}},[a("postojeci-dobavljaci")],1)],1)],1)},ge=[],xe=function(t,a,e,o){var r,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,e,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(n<3?r(i):n>3?r(a,e,i):r(a,e))||i);return n>3&&i&&Object.defineProperty(a,e,i),i};let Ce=class extends P.lD{};Ce=xe([(0,P.uA)({components:{PostojeciDobavljaci:ka}})],Ce);var Pe=Ce,Se=Pe,De=(0,u.A)(Se,ye,ge,!1,null,null,null),Ke=De.exports,Oe=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"container py-5"},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-breadcrumb",[a("b-breadcrumb-item",{attrs:{to:"/"}},[t._v("Home")]),a("b-breadcrumb-item",{attrs:{active:""}},[t._v("Lista kupaca")])],1)],1)],1),a("b-row",{staticClass:"mb-5"},[a("b-col",{attrs:{cols:"12"}},[a("postojeci-klijenti")],1)],1)],1)},Re=[],$e=function(t,a,e,o){var r,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,e,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(n<3?r(i):n>3?r(a,e,i):r(a,e))||i);return n>3&&i&&Object.defineProperty(a,e,i),i};let we=class extends P.lD{};we=$e([(0,P.uA)({components:{PostojeciKlijenti:ot}})],we);var Ue=we,Ve=Ue,Ae=(0,u.A)(Ve,Oe,Re,!1,null,null,null),Ie=Ae.exports,Be=function(){var t=this,a=t._self._c;return a("b-container",[t.hasActiveZiroRacun?a("div",[a("b-row",{staticClass:"text-center"},[a("b-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"mb-4"},[t._v("Dodaj novi izvod")]),a("h4",[t._v("Aktivan žiro račun: "+t._s(t.activeZiroRacun||"Nema aktivnog računa"))])])],1),a("b-row",{staticClass:"justify-content-center mb-5"},[a("b-col",{attrs:{cols:"2"}},[a("p",[t._v("Pocetno stanje: "+t._s(t.activePocetnoStanje)+" "+t._s(t.activeValutaRacuna))])]),a("b-col",{attrs:{cols:"2"}},[a("b-form",[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Promjeni aktivni racun","label-for":"izmjena-aktivni-racun"}},[a("b-form-select",{attrs:{id:"izmjena-aktivni-racun",options:t.client.bankAccounts.map((t=>({value:t.ziroRacun,text:t.ziroRacun})))},model:{value:t.selectedZiroRacun,callback:function(a){t.selectedZiroRacun=a},expression:"selectedZiroRacun"}})],1),a("b-button",{attrs:{variant:"success",size:"sm"},on:{click:t.setAktivniRacun}},[t._v(" Promjeni aktivni ziro racun ")])],1)],1)],1),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{cols:"12"}},[a("b-form",{on:{submit:function(a){return a.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{cols:"3"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Datum plaćanja","label-for":"datum-placanja"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"datum-placanja",placeholder:"Izaberite datum plaćanja","date-format-options":{day:"numeric",month:"numeric",year:"numeric"},required:""},model:{value:t.form.datumPlacanja,callback:function(a){t.$set(t.form,"datumPlacanja",a)},expression:"form.datumPlacanja"}})],1)],1),a("b-col",{attrs:{cols:"3"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Broj izvoda","label-for":"broj-izvoda"}},[a("b-form-input",{staticClass:"mb-2",attrs:{id:"broj-izvoda",placeholder:"Upisite broj izvoda",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.brojIzvoda},model:{value:t.form.brojIzvoda,callback:function(a){t.$set(t.form,"brojIzvoda",a)},expression:"form.brojIzvoda"}})],1)],1)],1),a("div",{staticClass:"my-5 border-top"}),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{cols:"3"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Izaberi KUF","label-for":"kuf"}},[a("b-form-select",{attrs:{id:"kuf",options:t.kufOptions,state:!t.hasSubmitted||null!==t.form.brojKuf},model:{value:t.form.brojKuf,callback:function(a){t.$set(t.form,"brojKuf",a)},expression:"form.brojKuf"}})],1),a("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(a){return t.addEntry("KUF")}}},[t._v(" Dodaj KUF stavku ")])],1),a("b-col",{attrs:{cols:"3"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Izaberi KIF","label-for":"kif"}},[a("b-form-select",{attrs:{id:"kif",options:t.kifOptions,state:!t.hasSubmitted||null!==t.form.brojRacuna},model:{value:t.form.brojRacuna,callback:function(a){t.$set(t.form,"brojRacuna",a)},expression:"form.brojRacuna"}})],1),a("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(a){return t.addEntry("KIF")}}},[t._v(" Dodaj KIF stavku ")])],1),a("b-col",{attrs:{cols:"3"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Dodaj ostalo","label-for":"ostalo"}},[a("b-form-select",{attrs:{id:"ostalo",options:t.ostaloOptions,state:!t.hasSubmitted||null!==t.form.ostaleStavke},model:{value:t.form.ostaleStavke,callback:function(a){t.$set(t.form,"ostaleStavke",a)},expression:"form.ostaleStavke"}})],1),a("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(a){return t.addEntry(t.form.ostaleStavke)}}},[t._v(" Dodaj stavku ")])],1)],1),a("div",{staticClass:"my-5 border-top"}),a("b-row",[a("table",[a("thead",[a("tr",[a("th",[t._v("Broj stavke")]),a("th",[t._v("Kupac / dobavljac")]),a("th",[t._v("Datum")]),a("th",[t._v("Opis")]),a("th",[t._v("Iznos za uplatit")]),a("th",[t._v("Uplaceni iznos")]),a("th",[t._v("Provizija")]),a("th",[t._v("Ukupno")]),a("th",[t._v("Akcija")])])]),a("tbody",[t._l(t.selectedEntries,(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(e.brojRacuna||e.brojKuf))]),a("td",[t._v(t._s(e.kupac||e.dobavljac||"N/A")+" ")]),a("td",[t._v(t._s(e.date||"No date"))]),a("td",[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Opis stavke","label-for":"opis-stavke"}},[a("b-form-input",{staticClass:"mb-2",attrs:{id:"opis-stavke",placeholder:"Upisite Opis stavke",type:"text",required:"",state:!t.hasSubmitted||null!==e.opisStavke},model:{value:e.opisStavke,callback:function(a){t.$set(e,"opisStavke",a)},expression:"entry.opisStavke"}})],1)],1),a("td",[t._v(t._s(e.neto||e.bruto)+t._s(t.activeValutaRacuna))]),a("td",[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Iznos uplate","label-for":"iznos-uplate"}},[a("b-form-input",{staticClass:"mb-2",attrs:{id:"iznos-uplate",placeholder:"Upisite Iznos uplate",type:"number",required:"",state:!t.hasSubmitted||null!==e.iznosUplate},model:{value:e.iznosUplate,callback:function(a){t.$set(e,"iznosUplate",a)},expression:"entry.iznosUplate"}})],1)],1),a("td",[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Iznos provizije","label-for":"iznos-provizije"}},[a("b-form-input",{staticClass:"mb-2",attrs:{id:"iznos-provizije",placeholder:"Upisite Iznos provizije",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.entryProvizije},model:{value:e.iznosProvizije,callback:function(a){t.$set(e,"iznosProvizije",a)},expression:"entry.iznosProvizije"}})],1)],1),a("td",[t._v(t._s((Number(e.iznosUplate)||0)+(Number(e.iznosProvizije)||0))+t._s(t.activeValutaRacuna))]),a("td",[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return t.removeStavka(o)}}},[t._v(" Ukloni ")])],1)])})),a("tr",[a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td",[t._v(" Novi saldo: "+t._s(t.selectedEntries.reduce(((t,a)=>"KUF"===a.type?t-(Number(a.iznosUplate)||0)-(Number(a.iznosProvizije)||0):t+(Number(a.iznosUplate)||0)-(Number(a.iznosProvizije)||0)),Number(t.activePocetnoStanje)))+" "+t._s(t.activeValutaRacuna)+" ")])])],2)]),a("b-col",{attrs:{cols:"6"}},[a("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)],1)],1)],1)],1):a("b-row",{staticClass:"text-center my-5"},[a("b-col",{attrs:{cols:"12"}},[a("h4",{staticClass:"mb-5 text-danger"},[t._v("Trenutno nemate dodanu banku, "),a("br"),t._v(" da bi dodali izvod morate imati 1 aktivan Žiro račun")]),a("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(a){return t.$router.push({name:"dodaj-bankovni-racun",params:{clientKey:t.client.clientKey}})}}},[t._v(" Dodaj novu banku ")])],1)],1)],1)},Ne=[],qe={data(){return{hasSubmitted:!1,form:{datumPlacanja:null,iznosUplate:null,brojKuf:null,brojKif:null,ostaleStavke:null},selectedEntries:[],client:null,selectedZiroRacun:null}},computed:{hasActiveZiroRacun(){return!(!this.client||!this.client.bankAccounts)&&this.client.bankAccounts.some((t=>!0===t.active))},activeZiroRacun(){if(this.client&&this.client.bankAccounts){const t=this.client.bankAccounts.find((t=>!0===t.active));return t?t.ziroRacun:"Nema aktivnog računa"}return"Nema aktivnog računa"},activePocetnoStanje(){if(this.client&&this.client.bankAccounts){const t=this.client.bankAccounts.find((t=>!0===t.active));return t?t.pocetnoStanje:"Nema aktivnog računa"}return"Nema aktivnog računa"},activeValutaRacuna(){if(this.client&&this.client.bankAccounts){const t=this.client.bankAccounts.find((t=>!0===t.active));return t?t.valutaRacuna:"Nema aktivnog računa"}return"Nema aktivnog računa"}},methods:{addEntry(t){let a=null;if("KUF"===t?a=this.client.kuf.find((t=>t.brojKuf===this.form.brojKuf)):"KIF"===t?a=this.client.kif.find((t=>t.brojRacuna===this.form.brojRacuna)):(this.selectedEntries.push({type:this.form.ostaleStavke}),console.log(t)),a){const e=a.neto||a.bruto;this.selectedEntries.push({...a,type:t,iznosUplate:e,iznosProvizije:this.client.bankAccounts.find((t=>!0===t.active)).provizija}),this.form.brojKuf?this.form.brojKuf=null:this.form.brojRacuna=null}},removeStavka(t){this.selectedEntries.splice(t,1)},onSubmit(){this.hasSubmitted=!0;const t=Z(),a=this.$route.params.clientKey,e=t.clients.find((t=>t.clientKey===a));e?(this.selectedEntries.forEach((t=>{if("KUF"===t.type){const a=e.kuf.find((a=>a.brojKuf===t.brojKuf));a?(a.iznosUplate=(Number(t.iznosUplate)||0)+(Number(t.iznosProvizije)||0),a.datumPlacanja=this.form.datumPlacanja,a.iznosProvizije=t.iznosProvizije,a.opisStavke=t.opisStavke,a.brojIzvoda=this.form.brojIzvoda):console.error(`KUF entry with brojKuf ${t.brojKuf} not found`)}if("KIF"===t.type){const a=e.kif.find((a=>a.brojRacuna===t.brojRacuna));a?(a.iznosUplate=(Number(t.iznosUplate)||0)+(Number(t.iznosProvizije)||0),a.datumPlacanja=this.form.datumPlacanja,a.iznosProvizije=t.iznosProvizije,a.opisStavke=t.opisStavke,a.brojIzvoda=this.form.brojIzvoda):console.error(`KIF entry with brojRacuna ${t.brojRacuna} not found`)}})),t.saveClients()):console.error("Client not found"),this.form={datumPlacanja:null,iznosUplate:null,brojKuf:null,brojRacuna:null},this.selectedEntries=[],this.form.datumPlacanja=null,this.form.brojIzvoda=null},setAktivniRacun(){if(!this.selectedZiroRacun)return;this.client.bankAccounts=this.client.bankAccounts.map((t=>({...t,active:t.ziroRacun===this.selectedZiroRacun})));const t=Z();t.saveClients(this.client)}},created(){const t=this.$route.params.clientKey,a=Z();this.client=a.clients.find((a=>a.clientKey===t));const e=this.$route.query.brojKuf,o=this.$route.query.brojRacuna;e&&(this.form.brojKuf=e,this.addEntry("KUF")),o&&(this.form.brojRacuna=o,this.addEntry("KIF")),this.client&&this.client.kuf&&(this.kufOptions=[{value:null,text:"Izaberite kuf"},...this.client.kuf.map((t=>({value:t.brojKuf,text:`${t.brojKuf} - ${t.dobavljac||"N/A"} - ${t.date||"No date"}`})))]),this.client&&this.client.kif&&(this.kifOptions=[{value:null,text:"Izaberite kif"},...this.client.kif.map((t=>({value:t.brojRacuna,text:`${t.brojRacuna} - ${t.kupac||"N/A"} - ${t.date||"No date"}`})))]),this.ostaloOptions=[{value:null,text:"Izaberite ostalo"},{value:"provizija",text:"Provizija"},{value:"place",text:"Burto place zaposlenika"},{value:"doprinosi",text:"Placeni doprinosi poduzetnika"}];const r=new Date;this.form.datumPlacanja=r.toISOString().split("T")[0]}},Fe=qe,Te=(0,u.A)(Fe,Be,Ne,!1,null,null,null),Je=Te.exports,Me=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("b-container",{staticClass:"my-5"},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-breadcrumb",[a("b-breadcrumb-item",{attrs:{to:"/"}},[t._v("Home")]),a("b-breadcrumb-item",{attrs:{active:""}},[t._v("Dodaj novi bankovni racun")])],1)],1)],1),a("b-row",[a("b-col",[a("novi-bankovni-racun",{staticClass:"mb-5"})],1)],1)],1)},Ee=[],Ge=function(){var t=this,a=t._self._c;return a("div",[a("b-row",{staticClass:"text-center"},[a("b-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"mb-4"},[t._v("Dodaj novi bankovni racun")])])],1),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{cols:"12",lg:"8"}},[a("b-form",{on:{submit:function(a){return a.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("h4",[t._v("Podaci o banci")])])],1),a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Naziv banke","label-for":"naziv-banke"}},[a("b-form-input",{attrs:{id:"naziv-banke",required:"",state:!t.hasSubmitted||t.form.nazivBanke.length>0,placeholder:"Upisite naziv banke"},model:{value:t.form.nazivBanke,callback:function(a){t.$set(t.form,"nazivBanke",a)},expression:"form.nazivBanke"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Ziro racun","label-for":"ziro-racun"}},[a("b-form-input",{attrs:{id:"ziro-racun",state:!t.hasSubmitted||t.form.ziroRacun.length>0,placeholder:"Upisite ziro racun"},model:{value:t.form.ziroRacun,callback:function(a){t.$set(t.form,"ziroRacun",a)},expression:"form.ziroRacun"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Pocetno stanje","label-for":"pocetno-stanje"}},[a("b-form-input",{attrs:{id:"pocetno-stanje",type:"number",state:!t.hasSubmitted||t.form.pocetnoStanje.length>0,placeholder:"Upisite pocetno stanje racun"},model:{value:t.form.pocetnoStanje,callback:function(a){t.$set(t.form,"pocetnoStanje",a)},expression:"form.pocetnoStanje"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Iznos provizije","label-for":"provizija"}},[a("b-form-input",{attrs:{id:"provizija",state:!t.hasSubmitted||t.form.provizija.length>0,placeholder:"Upisite iznos provizija"},model:{value:t.form.provizija,callback:function(a){t.$set(t.form,"provizija",a)},expression:"form.provizija"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Iznos odrzavanja racuna","label-for":"odrzavanje"}},[a("b-form-input",{attrs:{id:"odrzavanje",state:!t.hasSubmitted||t.form.odrzavanje.length>0,placeholder:"Upisite iznos odrzavanje racuna"},model:{value:t.form.odrzavanje,callback:function(a){t.$set(t.form,"odrzavanje",a)},expression:"form.odrzavanje"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Valuta","label-for":"valuta-racuna"}},[a("b-form-select",{attrs:{id:"valuta-racuna",options:t.valutaOptions,required:"",state:!t.hasSubmitted||null!==t.form.valutaRacuna},model:{value:t.form.valutaRacuna,callback:function(a){t.$set(t.form,"valutaRacuna",a)},expression:"form.valutaRacuna"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)],1)],1)],1),a("b-modal",{attrs:{id:"success-modal",centered:"",title:"Klijent uspješno dodan","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function({close:e}){return[a("h5",{staticClass:"modal-title"},[t._v("Novi ziro racun uspješno dodan")]),a("b-button",{staticClass:"close",attrs:{"aria-label":"Close"},on:{click:e}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]}}])},[a("p",{staticClass:"my-4"},[t._v("Uspješno ste dodali novi ziro racun")]),a("b-button",{attrs:{variant:"primary"},on:{click:function(a){return t.$bvModal.hide("success-modal")}}},[t._v("Dodaj novi ziro racun")]),a("b-button",{staticClass:"mx-3",attrs:{variant:"outline-primary"},on:{click:function(a){return t.$router.push("/clients")}}},[t._v("Povratak na listu klijenta")])],1)],1)},Ze=[],Le=(e(4603),e(7566),e(8721),{data(){return{hasSubmitted:!1,clientKey:null,form:{nazivBanke:"",ziroRacun:"",valutaRacuna:null,provizija:"",odrzavanje:"",active:!1,pocetnoStanje:null},valutaOptions:[{value:null,text:"Odaberite"},{value:"km",text:"KM"},{value:"eur",text:"EUR"},{value:"usd",text:"USD"}]}},created(){const t=new URLSearchParams(window.location.search);this.clientKey=t.get("clientKey")},methods:{onSubmit(){this.hasSubmitted=!0;const t=Z(),a=t.clients.find((t=>t.clientKey===this.clientKey));if(a){a.bankAccounts||(a.bankAccounts=[]);const e=0===a.bankAccounts.length,o={nazivBanke:this.form.nazivBanke,ziroRacun:this.form.ziroRacun,valutaRacuna:this.form.valutaRacuna,provizija:this.form.provizija,odrzavanje:this.form.odrzavanje,active:e,pocetnoStanje:this.form.pocetnoStanje};a.bankAccounts.push(o),t.saveClients(),this.$bvModal.show("success-modal"),this.resetForm()}else console.warn("Client not found with the provided clientKey")},resetForm(){this.form={nazivBanke:"",ziroRacun:"",valutaRacuna:null,provizija:"",odrzavanje:"",active:!1,pocetnoStanje:null},this.hasSubmitted=!1}}}),He=Le,Ye=(0,u.A)(He,Ge,Ze,!1,null,null,null),Xe=Ye.exports,Qe=function(t,a,e,o){var r,n=arguments.length,i=n<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,e):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,e,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(n<3?r(i):n>3?r(a,e,i):r(a,e))||i);return n>3&&i&&Object.defineProperty(a,e,i),i};let We=class extends P.lD{};We=Qe([(0,P.uA)({components:{NoviBankovniRacun:Xe}})],We);var to=We,ao=to,eo=(0,u.A)(ao,Me,Ee,!1,null,null,null),oo=eo.exports,ro=function(){var t=this,a=t._self._c;return a("div",[t.hasActiveZiroRacun?a("div",[a("b-row",{staticClass:"text-center"},[a("b-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"mb-4"},[t._v("Dodaj novu blagajnu")]),a("h4",[t._v("Aktivan žiro račun: "+t._s(t.activeZiroRacun||"Nema aktivnog računa"))])])],1),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{cols:"12",lg:"8"}},[a("b-form",{on:{submit:function(a){return a.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Datum plaćanja","label-for":"datum-placanja"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"datum-placanja",placeholder:"Izaberite datum plaćanja","date-format-options":{day:"numeric",month:"numeric",year:"numeric"}},model:{value:t.form.datumPlacanja,callback:function(a){t.$set(t.form,"datumPlacanja",a)},expression:"form.datumPlacanja"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Iznos uplate","label-for":"iznos-uplate"}},[a("b-form-input",{attrs:{id:"iznos-uplate",type:"number",required:"",state:!t.hasSubmitted||null!==t.form.iznosUplate},model:{value:t.form.iznosUplate,callback:function(a){t.$set(t.form,"iznosUplate",a)},expression:"form.iznosUplate"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)],1)],1)],1)],1):a("b-row",{staticClass:"text-center my-5"},[a("b-col",{attrs:{cols:"12"}},[a("h4",{staticClass:"mb-5 text-danger"},[t._v("Trenutno nemate dodanu banku, "),a("br"),t._v(" da bi dodali blagajnu morate imati 1 aktivan Žiro račun")]),a("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(a){return t.$router.push({name:"dodaj-bankovni-racun",params:{clientKey:t.client.clientKey}})}}},[t._v(" Dodaj novu banku ")])],1)],1)],1)},no=[],io={data(){return{hasSubmitted:!1,form:{datumPlacanja:null,iznosUplate:null},client:null}},computed:{hasActiveZiroRacun(){return!(!this.client||!this.client.bankAccounts)&&this.client.bankAccounts.some((t=>!0===t.active))},activeZiroRacun(){if(this.client&&this.client.bankAccounts){const t=this.client.bankAccounts.find((t=>!0===t.active));return t?t.ziroRacun:"Nema aktivnog računa"}return"Nema aktivnog računa"}},methods:{onSubmit(){this.hasSubmitted=!0;const t=Z(),a=this.$route.params.clientKey,e=this.$route.query.brojRacuna,o=t.clients.find((t=>t.clientKey===a));if(o){const a=o.kif.find((t=>t.brojRacuna===e));a?(a.datumPlacanja=this.form.datumPlacanja,a.iznosUplate=this.form.iznosUplate,t.saveClients()):console.error(`kuf entry with brojKuf ${e} not found`)}else console.error("Client not found");this.form={datumPlacanja:null,iznosUplate:null},this.hasSubmitted=!1}},mounted(){const t=this.$route.params.clientKey,a=Z();this.client=a.clients.find((a=>a.clientKey===t)),console.log("Client:",this.client)}},so=io,lo=(0,u.A)(so,ro,no,!1,null,null,null),co=lo.exports,uo=function(){var t=this,a=t._self._c;return a("div",[a("b-row",{staticClass:"text-center"},[a("b-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"mb-4"},[t._v("Edit bankovi racun")])])],1),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{cols:"12",lg:"8"}},[a("b-form",{on:{submit:function(a){return a.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("h4",[t._v("Podaci o banci")])])],1),a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Naziv banke","label-for":"naziv-banke"}},[a("b-form-input",{attrs:{id:"naziv-banke",required:"",state:!t.hasSubmitted||t.form.nazivBanke.length>0,placeholder:"Upisite naziv banke"},model:{value:t.form.nazivBanke,callback:function(a){t.$set(t.form,"nazivBanke",a)},expression:"form.nazivBanke"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Ziro racun","label-for":"ziro-racun"}},[a("b-form-input",{attrs:{id:"ziro-racun",state:!t.hasSubmitted||t.form.ziroRacun.length>0,placeholder:"Upisite ziro racun"},model:{value:t.form.ziroRacun,callback:function(a){t.$set(t.form,"ziroRacun",a)},expression:"form.ziroRacun"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Iznos provizije","label-for":"provizija"}},[a("b-form-input",{attrs:{id:"provizija",state:!t.hasSubmitted||t.form.provizija.length>0,placeholder:"Upisite iznos provizija"},model:{value:t.form.provizija,callback:function(a){t.$set(t.form,"provizija",a)},expression:"form.provizija"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Iznos odrzavanja racuna","label-for":"odrzavanje"}},[a("b-form-input",{attrs:{id:"odrzavanje",state:!t.hasSubmitted||t.form.odrzavanje.length>0,placeholder:"Upisite iznos odrzavanje racuna"},model:{value:t.form.odrzavanje,callback:function(a){t.$set(t.form,"odrzavanje",a)},expression:"form.odrzavanje"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"Ime i prezime vlasnika","label-for":"vlasnik-racuna"}},[a("b-form-input",{attrs:{id:"vlasnik-racuna",required:"",state:!t.hasSubmitted||t.form.vlasnikRacuna.length>0,placeholder:"Upisite Ime i prezime vlasnika"},model:{value:t.form.vlasnikRacuna,callback:function(a){t.$set(t.form,"vlasnikRacuna",a)},expression:"form.vlasnikRacuna"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)],1)],1)],1),a("b-modal",{attrs:{id:"success-modal",centered:"",title:"Klijent uspješno dodan","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function({close:e}){return[a("h5",{staticClass:"modal-title"},[t._v("Novi ziro racun uspješno dodan")]),a("b-button",{staticClass:"close",attrs:{"aria-label":"Close"},on:{click:e}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]}}])},[a("p",{staticClass:"my-4"},[t._v("Uspješno ste dodali novi ziro racun")]),a("b-button",{attrs:{variant:"primary"},on:{click:function(a){return t.$bvModal.hide("success-modal")}}},[t._v("Dodaj novi ziro racun")]),a("b-button",{staticClass:"mx-3",attrs:{variant:"outline-primary"},on:{click:function(a){return t.$router.push("/clients")}}},[t._v("Povratak na listu klijenta")])],1)],1)},bo=[],mo={data(){return{hasSubmitted:!1,clientKey:null,ziroRacun:null,form:{nazivBanke:"",ziroRacun:"",vlasnikRacuna:"",provizija:"",odrzavanje:"",active:!1}}},created(){this.clientKey=this.$route.params.clientKey,this.ziroRacun=this.$route.params.ziroRacun,this.prefillForm()},methods:{prefillForm(){const t=Z(),a=t.clients.find((t=>t.clientKey===this.clientKey));if(a){const t=a.bankAccounts.find((t=>t.ziroRacun===this.ziroRacun));t?this.form={nazivBanke:t.nazivBanke,ziroRacun:t.ziroRacun,vlasnikRacuna:t.vlasnikRacuna,provizija:t.provizija||"",odrzavanje:t.odrzavanje||"",active:t.active}:console.warn("Bank account not found with the provided ziroRacun")}else console.warn("Client not found with the provided clientKey")},onSubmit(){this.hasSubmitted=!0;const t=Z(),a=t.clients.find((t=>t.clientKey===this.clientKey));if(a){const e=a.bankAccounts.find((t=>t.ziroRacun===this.ziroRacun));e?(e.nazivBanke=this.form.nazivBanke,e.ziroRacun=this.form.ziroRacun,e.vlasnikRacuna=this.form.vlasnikRacuna,e.provizija=this.form.provizija,e.odrzavanje=this.form.odrzavanje,e.active=this.form.active,t.saveClients(),this.$bvModal.show("success-modal"),this.resetForm()):console.warn("Bank account not found with the provided ziroRacun")}else console.warn("Client not found with the provided clientKey")},resetForm(){this.form={nazivBanke:"",ziroRacun:"",vlasnikRacuna:"",provizija:"",odrzavanje:"",active:!1},this.hasSubmitted=!1}}},vo=mo,po=(0,u.A)(vo,uo,bo,!1,null,null,null),fo=po.exports;o["default"].use(g.Ay);const ko=[{path:"/",name:"home",component:F},{path:"/new-client",name:"new-client",component:ct},{path:"/clients",name:"clients",component:kt},{path:"/dodaj-ulazni-racun/:clientKey",name:"dodaj-ulazni-racun",component:Ut},{path:"/dodaj-izlazni-racun/:clientKey",name:"dodaj-izlazni-racun",component:Xt},{path:"/account?clientKey=:clientKey",name:"account",component:Za},{path:"/dodaj-dobavljaca",name:"dodaj-dobavljaca",component:se},{path:"/dodaj-kupca",name:"dodaj-kupca",component:_e},{path:"/dobavljaci",name:"dobavljaci",component:Ke},{path:"/kupci",name:"kupci",component:Ie},{path:"/izvod",name:"izvod",component:Je},{path:"/blagajna",name:"blagajna",component:co},{path:"/dodaj-bankovni-racun?clientKey=:clientKey",name:"dodaj-bankovni-racun",component:oo},{path:"/edit-bank-account/:clientKey/:ziroRacun",name:"EditBankAccount",component:fo}],ho=new g.Ay({mode:"history",base:"/projectx/",routes:ko});var jo=ho,zo=e(2863);e(9313);o["default"].use(G.R2);const _o=(0,G.Ey)();_o.use((({store:t})=>{t.router=(0,o.markRaw)(jo)})),o["default"].use(zo.Ay$),o["default"].config.productionTip=!1;const yo=new o["default"]({pinia:_o,router:jo,render:t=>t(y)});yo.$mount("#app")}},a={};function e(o){var r=a[o];if(void 0!==r)return r.exports;var n=a[o]={exports:{}};return t[o].call(n.exports,n,n.exports,e),n.exports}e.m=t,function(){var t=[];e.O=function(a,o,r,n){if(!o){var i=1/0;for(u=0;u<t.length;u++){o=t[u][0],r=t[u][1],n=t[u][2];for(var s=!0,l=0;l<o.length;l++)(!1&n||i>=n)&&Object.keys(e.O).every((function(t){return e.O[t](o[l])}))?o.splice(l--,1):(s=!1,n<i&&(i=n));if(s){t.splice(u--,1);var c=r();void 0!==c&&(a=c)}}return a}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[o,r,n]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){e.d=function(t,a){for(var o in a)e.o(a,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:a[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};e.O.j=function(a){return 0===t[a]};var a=function(a,o){var r,n,i=o[0],s=o[1],l=o[2],c=0;if(i.some((function(a){return 0!==t[a]}))){for(r in s)e.o(s,r)&&(e.m[r]=s[r]);if(l)var u=l(e)}for(a&&a(o);c<i.length;c++)n=i[c],e.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return e.O(u)},o=self["webpackChunkproject_x"]=self["webpackChunkproject_x"]||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))}();var o=e.O(void 0,[504],(function(){return e(6363)}));o=e.O(o)})();
//# sourceMappingURL=app.1562348c.js.map